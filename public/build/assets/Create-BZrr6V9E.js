import{b as g,j as t,T as f,S as x,H as C,h as m,c as _}from"./app-RcAloIyv.js";import{P as v,T as y}from"./PageHeadings-CIjb8soY.js";import{I,b as S,A as T,C as w,T as A}from"./AppLayout-Br51ywqD.js";import{T as E}from"./Textarea-A9TA2VB7.js";import{I as P}from"./IconAlignJustified-DcdxybjQ.js";import{I as D}from"./IconUsers-CJ8RwsaL.js";import{G as o}from"./Grid-D53SFOGt.js";import{I as k}from"./IconCornerDownLeft-D7W_spy8.js";const L=l=>{const{user:d}=l.auth,e=g({title:"",description:"",manager_id:"",team_members:[]}),c=(r,a)=>!a||Array.isArray(a)&&a.length===0?`${r.replace("_id","").replace("_"," ").replace(/\b\w/g,s=>s.toUpperCase())} is required.`:null,n=r=>a=>{const s=Array.isArray(a)?a:a.target.value;e.setData(r,s);const i=c(r,s);i?e.setError(r,i):e.clearErrors(r)},p=r=>{r.preventDefault();const a=c("team_members",e.data.team_members);if(a){e.setError("team_members",a);return}e.post(route("projects.store"),{onFinish:()=>e.reset()})},h=[{label:"Title",value:e.data.title,onChange:n("title"),error:e.errors.title,placeholder:"Enter the project's title, e.g., Website Redesign",description:"Provide a concise and descriptive title for the project.",leftSection:t.jsx(I,{}),component:f},{label:"Description",value:e.data.description,onChange:n("description"),error:e.errors.description,placeholder:"Describe the project's objectives and scope",description:"Include key details and objectives to help the team understand the project.",component:E,leftSection:t.jsx(P,{}),minRows:4},{label:"Manager",value:e.data.manager_id,onChange:n("manager_id"),error:e.errors.manager_id,placeholder:"Select a project manager",description:"Assign a manager who will oversee the project.",leftSection:t.jsx(S,{}),component:x,data:l.managers.map(r=>({value:r.id,label:r.full_name}))},{label:"Team Members",value:e.data.team_members,onChange:n("team_members"),error:e.errors.team_members,placeholder:"Select team members",description:"Include at least one Developer and one Quality Assurance member.",leftSection:t.jsx(D,{}),component:C,data:l.users.map(r=>({value:r.id,label:`${r.full_name} (${r.role})`}))}],u=Object.keys(e.errors).length>0,j=!e.data.title||!e.data.description||!e.data.manager_id||e.data.team_members.length===0;return t.jsx("form",{onSubmit:p,children:t.jsx(T,{title:"Create Project",user:d,children:t.jsxs(w,{flex:1,size:"xl",w:"100%",py:32,children:[t.jsx(v,{title:"Create New Project",description:"Provide the necessary details to start and define a new project within the system.",breadcrumbs:[{label:"Projects",onClick:()=>m.get(route("projects.index"))},{label:"Create",onClick:()=>m.get(route("projects.create"))}]}),t.jsxs(o,{gutter:16,justify:"flex-end",children:[h.map(({component:r,label:a,description:s,...i},b)=>t.jsx(o.Col,{span:{base:12},children:t.jsxs(o,{gutter:{base:8,sm:0},align:"center",children:[t.jsx(o.Col,{span:{base:12,sm:4},children:t.jsx(A,{order:5,children:a})}),t.jsxs(o.Col,{span:{base:12,sm:8},children:[t.jsx(r,{...i}),s&&t.jsx(y,{size:"xs",color:"dimmed",mt:8,children:s})]})]})},b)),t.jsx(o.Col,{span:{base:12,sm:8,smOffset:4},children:t.jsx(_,{type:"submit",fullWidth:!0,leftSection:t.jsx(k,{}),disabled:e.processing||u||j,loading:e.processing,children:"Create Project"})})]})]})})})};export{L as default};
