import{p as g,u as f,a as j,j as r,B as k,b,r as w,T as E,P as C,c as I}from"./app-l3PHe4uA.js";import{c as x,A as S,C as P,T as L,S as M}from"./AppLayout-C8W-FPwP.js";import{I as O}from"./IconMail-DeRBIQvH.js";import{I as q}from"./IconPassword-Dq0ghy8j.js";var y={root:"m_4451eb3a"};const F={},h=g((n,e)=>{const l=f("Center",F,n),{classNames:v,className:i,style:c,styles:p,unstyled:d,vars:u,inline:m,mod:s,...t}=l,a=j({name:"Center",props:l,classes:y,className:i,style:c,classNames:v,styles:p,unstyled:d,vars:u});return r.jsx(k,{ref:e,mod:[{inline:m},s],...a("root"),...t})});h.classes=y;h.displayName="@mantine/core/Center";/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var z=x("outline","lock-open-2","IconLockOpen2",[["path",{d:"M3 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M13 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var A=x("outline","lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]);const R=n=>{const e=b({email:"",password:""}),[l,v]=w.useState(!1),i=(s,t)=>{const o={email:{required:"Email is required.",pattern:/^[a-zA-Z0-9._%+-]+@bugeur\.id$/,patternError:"Email must use @bugeur.id."},password:{required:"Password is required."}}[s];return o?t?o.pattern&&!o.pattern.test(t)?o.patternError:null:o.required:null},c=s=>t=>{const a=t.target.value;e.setData(s,a);const o=i(s,a);o?e.setError(s,o):e.clearErrors(s)},p=s=>{s.preventDefault();const t={};if(Object.keys(e.data).forEach(a=>{const o=i(a,e.data[a]);o&&(t[a]=o)}),Object.keys(t).length>0){e.setErrors(t);return}e.post(route("login"),{onFinish:()=>e.clearErrors("password")})},d=Object.values(e.data).every(s=>s.trim()!==""),u=Object.keys(e.errors).length>0,m=[{label:"Email Address",value:e.data.email,onChange:c("email"),error:e.errors.email,placeholder:"username@bugeur.id",leftSection:r.jsx(O,{}),component:E},{label:"Password",type:l?"text":"password",value:e.data.password,onChange:c("password"),error:e.errors.password,placeholder:"********",leftSection:r.jsx(q,{}),component:C}];return r.jsx("form",{onSubmit:p,children:r.jsx(S,{title:n.title,notification:n.notification,children:r.jsx(h,{flex:1,children:r.jsxs(P,{flex:1,size:"xs",children:[r.jsx(L,{order:1,children:"Login to your account"}),r.jsx(M,{my:16,children:m.map(({component:s,...t},a)=>r.jsx(s,{...t},a))}),r.jsx(I,{fullWidth:!0,type:"submit",leftSection:!d||u?r.jsx(A,{}):r.jsx(z,{}),loading:e.processing,disabled:!d||u,children:"Login"})]})})})})};export{R as default};
