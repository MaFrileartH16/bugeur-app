import{b as C,j as a,q as _,S as v,Z as E,o as l,c as y}from"./app-B4tVSlix.js";import{P as S}from"./PageHeadings-O0W7yd7c.js";import{d as I,a as T,A as D,C as w,T as P}from"./AppLayout-BeO7E5XL.js";import{T as A}from"./Textarea-D4CbiKsG.js";import{I as M}from"./IconAlignJustified-BI8v9_jd.js";import{I as k}from"./IconUsers-nqz66VY8.js";import{G as o}from"./Grid-Cw8K9v61.js";import{T as F}from"./Text-GUprkyLI.js";import{I as R}from"./IconCornerDownLeft-B2pI9DUV.js";const H=i=>{const{user:c}=i.auth,e=C({title:"",description:"",manager_id:"",team_members:[]}),n=(r,t)=>!t||Array.isArray(t)&&t.length===0?`${r.replace("_id","").replace("_"," ").replace(/\b\w/g,s=>s.toUpperCase())} is required.`:null,m=r=>{const t=r.target.value;e.setData("title",t);const s=n("title",t);s?e.setError("title",s):e.clearErrors("title")},d=r=>{const t=r.target.value;e.setData("description",t);const s=n("description",t);s?e.setError("description",s):e.clearErrors("description")},p=r=>{e.setData("manager_id",r);const t=n("manager_id",r);t?e.setError("manager_id",t):e.clearErrors("manager_id")},h=r=>{e.setData("team_members",r);const t=n("team_members",r);t?e.setError("team_members",t):e.clearErrors("team_members")},b=r=>{r.preventDefault();const t=n("team_members",e.data.team_members);if(t){e.setError("team_members",t);return}e.post(route("projects.store"),{onFinish:()=>e.reset()})},u=[{label:"Title",value:e.data.title,onChange:m,error:e.errors.title,placeholder:"Enter the project's title, e.g., Website Redesign",description:"Provide a concise and descriptive title for the project.",leftSection:a.jsx(I,{}),component:_},{label:"Description",value:e.data.description,onChange:d,error:e.errors.description,placeholder:"Describe the project's objectives and scope",description:"Include key details and objectives to help the team understand the project.",component:A,leftSection:a.jsx(M,{}),minRows:4},{label:"Manager",defaultValue:e.data.manager_id,onChange:p,error:e.errors.manager_id,placeholder:"Select a project manager",description:"Assign a manager who will oversee the project.",leftSection:a.jsx(T,{}),component:v,data:i.managers.map(r=>({value:r.id,label:r.full_name}))},{label:"Team Members",value:e.data.team_members,onChange:h,error:e.errors.team_members,placeholder:"Select team members",description:"Include at least one Developer and one Quality Assurance member.",leftSection:a.jsx(k,{}),component:E,data:i.users.map(r=>({value:r.id,label:`${r.full_name} (${r.role})`}))}],g=Object.keys(e.errors).length>0,j=!e.data.title||!e.data.description||!e.data.manager_id||e.data.team_members.length===0;return a.jsx("form",{onSubmit:b,children:a.jsx(D,{title:"Create Project",user:c,children:a.jsxs(w,{flex:1,size:"xl",w:"100%",py:32,children:[a.jsx(S,{title:"Create New Project",description:"Provide the necessary details to start and define a new project within the system.",breadcrumbs:[{label:"Projects",onClick:()=>l.get(route("projects.index"))},{label:"Create",onClick:()=>l.get(route("projects.create"))}]}),a.jsxs(o,{gutter:32,justify:"flex-end",children:[u.map(({component:r,label:t,description:s,...f},x)=>a.jsx(o.Col,{span:{base:12},children:a.jsxs(o,{gutter:{base:8,sm:0},align:"start",children:[a.jsx(o.Col,{span:{base:12,sm:4},children:a.jsx(P,{order:5,children:t})}),a.jsxs(o.Col,{span:{base:12,sm:8},children:[a.jsx(r,{...f}),s&&a.jsx(F,{size:"xs",color:"dimmed",mt:8,children:s})]})]})},x)),a.jsx(o.Col,{span:{base:12,sm:8,smOffset:4},children:a.jsx(y,{type:"submit",fullWidth:!0,leftSection:a.jsx(R,{}),disabled:e.processing||g||j,loading:e.processing,children:"Create Project"})})]})]})})})};export{H as default};
