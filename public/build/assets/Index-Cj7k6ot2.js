import{F as O,f as ee,u as ae,d as te,j as e,B as h,e as le,H as se,ab as ne,ac as re,l as oe,S as ie,$ as y,G as B,r as m,J as R,M as ce,o as b,b as de,X as he}from"./app-CEaRo_v6.js";import{c as i,a as o,u as ue,A as ge,i as ve,f as Q,S as z,F as xe,T as fe,C as je,j as ye,B as me,M as k,d as pe}from"./AppLayout-z9avZPDp.js";import{P as be}from"./PageHeadings-BylyljLb.js";import{T as E}from"./TextInput-DdMdQ0iB.js";import{I as T}from"./IconSearch-YbNJdRzM.js";import{I as U,C as $}from"./IconPlus-DzK2Zbhd.js";import{G as S}from"./Grid-B0LHfwIk.js";import{I as ke}from"./IconUsers-BFO7yDeL.js";import{I as Se}from"./IconEdit-Y01PZCx4.js";function Ie(t="top-end",r=0){const l={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},s=O(r),[c,n]=t.split("-");return c==="top"&&(l["--indicator-top"]=s,l["--indicator-translate-y"]="-50%"),c==="middle"&&(l["--indicator-top"]="50%",l["--indicator-translate-y"]="-50%"),c==="bottom"&&(l["--indicator-bottom"]=s,l["--indicator-translate-y"]="50%"),n==="start"&&(l["--indicator-left"]=s,l["--indicator-translate-x"]="-50%"),n==="center"&&(l["--indicator-left"]="50%",l["--indicator-translate-x"]="-50%"),n==="end"&&(l["--indicator-right"]=s,l["--indicator-translate-x"]="50%"),l}var Y={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const Ce={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},Me=le((t,{color:r,position:l,offset:s,size:c,radius:n,zIndex:u,autoContrast:g})=>({root:{"--indicator-color":r?se(r,t):void 0,"--indicator-text-color":ne(g,t)?re({color:r,theme:t,autoContrast:g}):void 0,"--indicator-size":O(c),"--indicator-radius":n===void 0?void 0:oe(n),"--indicator-z-index":u==null?void 0:u.toString(),...Ie(l,s)}})),L=ee((t,r)=>{const l=ae("Indicator",Ce,t),{classNames:s,className:c,style:n,styles:u,unstyled:g,vars:I,children:p,position:_,offset:w,inline:A,label:C,radius:x,color:D,withBorder:f,disabled:j,processing:M,zIndex:P,autoContrast:N,mod:F,...a}=l,v=te({name:"Indicator",classes:Y,props:l,className:c,style:n,classNames:s,styles:u,unstyled:g,vars:I,varsResolver:Me});return e.jsxs(h,{ref:r,...v("root"),mod:[{inline:A},F],...a,children:[!j&&e.jsx(h,{mod:{"with-label":!!C,"with-border":f,processing:M},...v("indicator"),children:C}),p]})});L.classes=Y;L.displayName="@mantine/core/Indicator";/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var V=i("outline","arrows-up-down","IconArrowsUpDown",[["path",{d:"M7 3l0 18",key:"svg-0"}],["path",{d:"M10 6l-3 -3l-3 3",key:"svg-1"}],["path",{d:"M20 18l-3 3l-3 -3",key:"svg-2"}],["path",{d:"M17 21l0 -18",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G=i("outline","bolt","IconBolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _e=i("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var we=i("outline","chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ae=i("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var De=i("outline","chevrons-left","IconChevronsLeft",[["path",{d:"M11 7l-5 5l5 5",key:"svg-0"}],["path",{d:"M17 7l-5 5l5 5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pe=i("outline","chevrons-right","IconChevronsRight",[["path",{d:"M7 7l5 5l-5 5",key:"svg-0"}],["path",{d:"M13 7l5 5l-5 5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Z=i("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var H=i("outline","filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var X=i("outline","hierarchy-3","IconHierarchy3",[["path",{d:"M12 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M12 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M20 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}],["path",{d:"M16 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-5"}],["path",{d:"M5 17l2 -3",key:"svg-6"}],["path",{d:"M9 10l2 -3",key:"svg-7"}],["path",{d:"M13 7l2 3",key:"svg-8"}],["path",{d:"M17 14l2 3",key:"svg-9"}],["path",{d:"M15 14l-2 3",key:"svg-10"}],["path",{d:"M9 14l2 3",key:"svg-11"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K=i("outline","number","IconNumber",[["path",{d:"M4 17v-10l7 10v-10",key:"svg-0"}],["path",{d:"M15 17h5",key:"svg-1"}],["path",{d:"M17.5 10m-2.5 0a2.5 3 0 1 0 5 0a2.5 3 0 1 0 -5 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fe=i("outline","settings-search","IconSettingsSearch",[["path",{d:"M11.646 20.965a1.67 1.67 0 0 1 -1.321 -1.282a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c.728 .177 1.154 .71 1.279 1.303",key:"svg-0"}],["path",{d:"M14.985 11.694a3 3 0 1 0 -3.29 3.29",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M20.2 20.2l1.8 1.8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var J=i("outline","sort-ascending-letters","IconSortAscendingLetters",[["path",{d:"M15 10v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4",key:"svg-0"}],["path",{d:"M19 21h-4l4 -7h-4",key:"svg-1"}],["path",{d:"M4 15l3 3l3 -3",key:"svg-2"}],["path",{d:"M7 6v12",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var W=i("outline","sort-descending-letters","IconSortDescendingLetters",[["path",{d:"M15 21v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4",key:"svg-0"}],["path",{d:"M19 10h-4l4 -7h-4",key:"svg-1"}],["path",{d:"M4 15l3 3l3 -3",key:"svg-2"}],["path",{d:"M7 6v12",key:"svg-3"}]]);const d=({description:t,error:r,...l})=>e.jsxs(e.Fragment,{children:[t&&e.jsx(o,{c:"gray",mb:8,children:t}),e.jsx(ie,{mt:t?0:8,...l,styles:{input:{borderColor:r?"red":void 0}}}),r&&e.jsx(o,{c:"red",mt:8,children:r})]}),q=t=>{console.log(t);const r=()=>e.jsx(De,{size:24}),l=()=>e.jsx(we,{size:24}),s=()=>e.jsx(Ae,{size:24}),c=()=>e.jsx(Pe,{size:24}),n=()=>e.jsx(Z,{size:24});return e.jsx(y.Root,{...t,style:{overflowX:"auto",whiteSpace:"nowrap"},children:e.jsxs(B,{gap:8,style:{display:"inline-flex",flexWrap:"nowrap"},h:52,children:[e.jsx(y.First,{icon:r}),e.jsx(y.Previous,{icon:l}),e.jsx(y.Items,{dotsIcon:n}),e.jsx(y.Next,{icon:s}),e.jsx(y.Last,{icon:c})]})})},$e=t=>{const[r,l]=m.useState(t.search||""),[s,c]=m.useState({key:t.sort_key||"",direction:t.sort_direction||"asc"}),[n,u]=m.useState(t.filter_key||""),[g,I]=m.useState(t.filter_value||""),[p,_]=m.useState(String(t.per_page)||"10"),[w,{open:A,close:C}]=ue(!1);m.useEffect(()=>{l(t.search||""),c({key:t.sort_key||"",direction:t.sort_direction||"asc"}),u(t.filter_key||""),I(t.filter_value||""),_(String(t.per_page)||"10")},[t.search,t.sort_key,t.sort_direction,t.filter_key,t.filter_value,t.per_page]);const x=a=>{b.get(route("users.index"),{page:1,search:r,sort_key:s.key,sort_direction:s.direction,filter_key:n,filter_value:g,per_page:Number(p),...a})},D=a=>{l(a),x({search:a})},f=(a,v)=>{c({key:a,direction:v}),x({sort_key:a,sort_direction:v})},j=(a,v)=>{u(a),I(v),x({filter_key:a,filter_value:v})},M=a=>{_(a),x({per_page:Number(a)})},P=a=>{x({page:a})},N=a=>{b.get(route("users.edit",a))},F=a=>{console.log("Delete user:",a),confirm("Are you sure you want to delete this user?")&&b.delete(route("users.destroy",a))};return e.jsxs(ge,{title:t.title,user:t.auth.user,notification:t.notification,children:[e.jsx(ve,{position:{bottom:16,left:16},style:{zIndex:2},display:{base:"block",lg:"none"},children:e.jsx(Q,{label:"Settings Search",children:e.jsx(R,{bg:"white",onClick:A,variant:"outline",children:e.jsx(Fe,{})})})}),e.jsx(ce,{opened:w,onClose:C,size:"xs",centered:!0,withCloseButton:!1,children:e.jsxs(z,{gap:32,children:[e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Search"}),e.jsx(E,{leftSection:e.jsx(T,{}),placeholder:"Search by name or email...",value:r,onChange:a=>D(a.target.value)})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Sort"}),e.jsx(d,{clearable:!0,leftSection:e.jsx(V,{}),placeholder:"Sort by...",value:s.key,data:[{label:"Full Name",value:"full_name"},{label:"Email",value:"email"},{label:"Role",value:"role"}],onChange:a=>f(a,s.direction)}),s.key&&e.jsx(d,{leftSection:s.direction==="asc"?e.jsx(J,{}):e.jsx(W,{}),placeholder:"Direction...",value:s.direction,data:[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],onChange:a=>f(s.key,a)})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Filter"}),e.jsx(d,{clearable:!0,leftSection:e.jsx(H,{}),placeholder:"Filter by...",value:n,data:[{label:"Role",value:"role"},{label:"Status",value:"status"}],onChange:a=>j(a,"")}),n&&e.jsx(d,{clearable:!0,leftSection:n==="role"?e.jsx(X,{}):e.jsx(G,{}),placeholder:n==="role"?"Select role...":"Select status...",value:g,data:n==="role"?[{label:"Project Manager",value:"Project Manager"},{label:"Developer",value:"Developer"},{label:"Quality Assurance",value:"Quality Assurance"}]:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],onChange:a=>j(n,a),mt:"sm"})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Items per page"}),e.jsx(d,{clearable:!1,leftSection:e.jsx(K,{}),placeholder:"Select items per page...",value:p,data:[{label:"10",value:"10"},{label:"20",value:"20"},{label:"30",value:"30"},{label:"40",value:"40"},{label:"50",value:"50"}],onChange:M})]})]})}),e.jsxs(xe,{justify:"space-between",align:"start",gap:16,children:[e.jsx(be,{title:"Users",description:"Manage users with search, sort, filter, and customizable pagination."}),t.auth.user.role==="Admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Q,{label:"Create Users",children:e.jsx(R,{display:{base:"block",xs:"none"},onClick:()=>b.get(route("users.create")),children:e.jsx(U,{})})}),e.jsx(de,{leftSection:e.jsx(U,{}),display:{base:"none",xs:"block"},onClick:()=>b.get(route("users.create")),children:"Create User"})]})]}),e.jsxs(S,{gutter:32,children:[e.jsx(S.Col,{span:{base:0,lg:3},children:e.jsx($,{shadow:"xs",p:16,withBorder:!0,pos:"sticky",top:112,display:{base:"none",lg:w?"none":"block"},children:e.jsxs(z,{gap:32,children:[e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Search"}),e.jsx(E,{leftSection:e.jsx(T,{}),placeholder:"Search by name or email...",value:r,onChange:a=>D(a.target.value)})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Sort"}),e.jsx(d,{clearable:!0,leftSection:e.jsx(V,{}),placeholder:"Sort by...",value:s.key,data:[{label:"Full Name",value:"full_name"},{label:"Email",value:"email"},{label:"Role",value:"role"}],onChange:a=>f(a,s.direction)}),s.key&&e.jsx(d,{leftSection:s.direction==="asc"?e.jsx(J,{}):e.jsx(W,{}),placeholder:"Direction...",value:s.direction,data:[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],onChange:a=>f(s.key,a)})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Filter"}),e.jsx(d,{clearable:!0,leftSection:e.jsx(H,{}),placeholder:"Filter by...",value:n,data:[{label:"Role",value:"role"},{label:"Status",value:"status"}],onChange:a=>j(a,"")}),n&&e.jsx(d,{clearable:!0,leftSection:n==="role"?e.jsx(X,{}):e.jsx(G,{}),placeholder:n==="role"?"Select role...":"Select status...",value:g,data:n==="role"?[{label:"Project Manager",value:"Project Manager"},{label:"Developer",value:"Developer"},{label:"Quality Assurance",value:"Quality Assurance"}]:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],onChange:a=>j(n,a),mt:"sm"})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Items per page"}),e.jsx(d,{clearable:!1,leftSection:e.jsx(K,{}),placeholder:"Select items per page...",value:p,data:[{label:"10",value:"10"},{label:"20",value:"20"},{label:"30",value:"30"},{label:"40",value:"40"},{label:"50",value:"50"}],onChange:M})]})]})})}),e.jsxs(S.Col,{span:{base:12,lg:9},children:[e.jsxs(B,{justify:"space-between",align:"center",mb:16,children:[e.jsxs(o,{size:"sm",children:["Showing ",t.users.from," – ",t.users.to," of"," ",t.users.total]}),e.jsx(q,{value:t.users.current_page,onChange:P,total:t.users.last_page,radius:"xs"})]}),t.users.data.length===0?e.jsxs(z,{align:"center",py:32,spacing:"xs",children:[e.jsx(ke,{size:48,color:"gray"}),e.jsx(fe,{order:3,c:"gray",children:"No users available yet."})]}):e.jsx(S,{gutter:"lg",children:t.users.data.map(a=>e.jsx(S.Col,{span:{base:6,sm:4,md:3},children:e.jsxs($,{shadow:"xs",radius:"md",withBorder:!0,children:[e.jsx(je,{children:e.jsx(L,{radius:16,style:{zIndex:1},color:a.deleted_at?"red":"green",inline:!0,size:16,offset:7,position:"bottom-end",children:e.jsx(he,{size:48,src:a.profile_photo_path||void 0,children:!a.profile_photo_path&&ye(a.full_name)})})}),e.jsx(o,{fw:500,align:"center",mt:16,lineClamp:1,children:a.full_name}),e.jsx(o,{align:"center",c:"ghost",size:"sm",mb:16,lineClamp:1,children:a.email}),e.jsx(me,{mx:"auto",color:a.role==="Project Manager"?"orange":a.role==="Developer"?"lime":a.role==="Quality Assurance"?"cyan":"gray",variant:"light",children:a.role.replace("_"," ")}),e.jsxs(k,{shadow:"xs",withArrow:!0,arrowPosition:"center",children:[e.jsx(k.Target,{children:e.jsx(R,{w:"100%",mt:16,variant:"subtle",color:"gray",children:e.jsx(Z,{})})}),e.jsxs(k.Dropdown,{p:0,children:[e.jsx(k.Item,{h:48,color:"yellow",leftSection:e.jsx(Se,{}),onClick:()=>N(a.id),children:"Edit"}),e.jsx(k.Item,{h:48,color:a.deleted_at?"green":"red",leftSection:a.deleted_at?e.jsx(_e,{}):e.jsx(pe,{}),onClick:()=>F(a.id),children:a.deleted_at?"Active":"Deactivate"})]})]})]})},a.id))}),e.jsxs(B,{justify:"space-between",align:"center",mt:16,children:[e.jsxs(o,{size:"sm",children:["Showing ",t.users.from," – ",t.users.to," of"," ",t.users.total]}),e.jsx(q,{value:t.users.current_page,onChange:P,total:t.users.last_page,radius:"xs"})]})]})]})]})};export{$e as default};
