import{a as C,j as e,o as c,p as m,S as w,aa as v,b as E}from"./app-BpAUGdmq.js";import{P as S}from"./PageHeadings-Ci2Bal-C.js";import{A as _,T as o,b as I,a as n}from"./AppLayout-gEqekIuP.js";import{G as a}from"./Grid-DFaESEyC.js";import{I as y,a as D}from"./IconPassword-FGhIAzTz.js";import{I as P}from"./IconKey-CnB_oJCA.js";import{I as U}from"./IconCornerDownLeft-VZliz8Yz.js";const R=i=>{const{user:u}=i.auth,t=i.user,s=C({full_name:t.full_name||"",email:t.email||"",role:t.role.toLowerCase().replace(/\s+/g,"_")||"",password:""}),h=(r,l)=>l&&!l.endsWith("@bugeur.id")?"Email must use @bugeur.id.":null,p=r=>{const l=r.target.value;s.setData("full_name",l),s.clearErrors("full_name")},x=r=>{const l=r.target.value;s.setData("email",l);const d=h("email",l);d?s.setError("email",d):s.clearErrors("email")},j=r=>{s.setData("role",r),s.clearErrors("role")},f=r=>{const l=r.target.value;s.setData("password",l),s.clearErrors("password")},g=r=>{r.preventDefault(),s.data.full_name&&s.data.full_name,s.data.email&&s.data.email,s.data.role&&s.data.role,s.data.password&&s.data.password,s.patch(route("users.update",t))},b=Object.keys(s.errors).length>0;return e.jsx("form",{onSubmit:g,children:e.jsxs(_,{title:"Edit User",user:u,notification:i.notification,children:[e.jsx(S,{title:"Edit User",description:"Make changes to the user's details, including their role, email address, and password.",breadcrumbs:[{label:"Users",onClick:()=>c.get(route("users.index",{page:1}))},{label:"Edit",onClick:()=>c.get(route("users.edit",t.id))}]}),e.jsxs(a,{gutter:32,justify:"flex-end",children:[e.jsx(a.Col,{span:{base:12},children:e.jsxs(a,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(a.Col,{span:{base:12,sm:4},children:e.jsx(o,{order:5,children:"Full Name"})}),e.jsxs(a.Col,{span:{base:12,sm:8},children:[e.jsx(m,{value:s.data.full_name,onChange:p,error:s.errors.full_name,placeholder:"Enter full name",leftSection:e.jsx(I,{})}),e.jsx(n,{size:"xs",color:"dimmed",mt:8,children:"The user's full name as it will appear in the system."})]})]})}),e.jsx(a.Col,{span:{base:12},children:e.jsxs(a,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(a.Col,{span:{base:12,sm:4},children:e.jsx(o,{order:5,children:"Email Address"})}),e.jsxs(a.Col,{span:{base:12,sm:8},children:[e.jsx(m,{value:s.data.email,onChange:x,error:s.errors.email,placeholder:"Enter email address",leftSection:e.jsx(y,{})}),e.jsx(n,{size:"xs",color:"dimmed",mt:8,children:"Use a valid email address ending with @bugeur.id."})]})]})}),e.jsx(a.Col,{span:{base:12},children:e.jsxs(a,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(a.Col,{span:{base:12,sm:4},children:e.jsx(o,{order:5,children:"Role"})}),e.jsxs(a.Col,{span:{base:12,sm:8},children:[e.jsx(w,{value:s.data.role,onChange:j,error:s.errors.role,placeholder:"Select a role",leftSection:e.jsx(P,{}),data:[{value:"project_manager",label:"Project Manager"},{value:"developer",label:"Developer"},{value:"quality_assurance",label:"Quality Assurance"}]}),e.jsx(n,{size:"xs",color:"dimmed",mt:8,children:"Choose the role that best fits the user's responsibilities."})]})]})}),e.jsx(a.Col,{span:{base:12},children:e.jsxs(a,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(a.Col,{span:{base:12,sm:4},children:e.jsx(o,{order:5,children:"Password"})}),e.jsxs(a.Col,{span:{base:12,sm:8},children:[e.jsx(v,{value:s.data.password,onChange:f,error:s.errors.password,placeholder:"Enter new password",leftSection:e.jsx(D,{})}),e.jsx(n,{size:"xs",color:"dimmed",mt:8,children:"Set a new password for the user."})]})]})}),e.jsx(a.Col,{span:{base:12,sm:8},align:"end",children:e.jsx(E,{type:"submit",leftSection:e.jsx(U,{}),disabled:s.processing||b,loading:s.processing,children:"Save Changes"})})]})]})})};export{R as default};
