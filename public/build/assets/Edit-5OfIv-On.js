import{b,j as e,h as d,d as C}from"./app-D1ROa2dk.js";import{P as w,G as a}from"./PageHeadings-CXlcB1tZ.js";import{I as v,P as E,a as S}from"./IconPassword-DnG6uL1U.js";import{S as I}from"./Select-CesD06S8.js";import{T as c}from"./TextInput-DoMuMr3T.js";import{A as P,T as n,b as y}from"./AppLayout-6WbUBhn6.js";import{I as D}from"./IconKey-C8cnS4ze.js";import{I as _}from"./IconCornerDownLeft-WUnmPxyi.js";const L=o=>{const{user:u}=o.auth,t=o.user;console.log(t);const s=b({full_name:t.full_name||"",email:t.email||"",role:t.role||"",password:""}),m=(r,l)=>l&&!l.endsWith("@bugeur.id")?"Email must use @bugeur.id.":null,h=r=>{const l=r.target.value;s.setData("full_name",l),s.clearErrors("full_name")},p=r=>{const l=r.target.value;s.setData("email",l);const i=m("email",l);i?s.setError("email",i):s.clearErrors("email")},f=r=>{s.setData("role",r),s.clearErrors("role")},j=r=>{const l=r.target.value;s.setData("password",l),s.clearErrors("password")},x=r=>{r.preventDefault(),s.data.full_name&&s.data.full_name,s.data.email&&s.data.email,s.data.role&&s.data.role,s.data.password&&s.data.password,s.patch(route("users.update",t))},g=Object.keys(s.errors).length>0;return e.jsx("form",{onSubmit:x,children:e.jsxs(P,{title:"Edit User",user:u,notification:o.notification,children:[e.jsx(w,{title:"Edit User",description:"Make changes to the user's details, including their role, email address, and password.",breadcrumbs:[{label:"Users",onClick:()=>d.get(route("users.index",{page:1}))},{label:"Edit",onClick:()=>d.get(route("users.edit",t.id))}]}),e.jsxs(a,{gutter:32,justify:"flex-end",children:[e.jsx(a.Col,{span:{base:12},children:e.jsxs(a,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(a.Col,{span:{base:12,sm:4},children:e.jsx(n,{order:5,children:"Full Name"})}),e.jsx(a.Col,{span:{base:12,sm:8},children:e.jsx(c,{value:s.data.full_name,onChange:h,error:s.errors.full_name,placeholder:"Enter full name",leftSection:e.jsx(y,{}),description:"The user's full name as it will appear in the system."})})]})}),e.jsx(a.Col,{span:{base:12},children:e.jsxs(a,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(a.Col,{span:{base:12,sm:4},children:e.jsx(n,{order:5,children:"Email Address"})}),e.jsx(a.Col,{span:{base:12,sm:8},children:e.jsx(c,{value:s.data.email,onChange:p,error:s.errors.email,placeholder:"Enter email address",leftSection:e.jsx(v,{}),description:"Use a valid email address ending with @bugeur.id."})})]})}),e.jsx(a.Col,{span:{base:12},children:e.jsxs(a,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(a.Col,{span:{base:12,sm:4},children:e.jsx(n,{order:5,children:"Role"})}),e.jsx(a.Col,{span:{base:12,sm:8},children:e.jsx(I,{value:s.data.role,onChange:f,error:s.errors.role,placeholder:"Select a role",leftSection:e.jsx(D,{}),description:"Choose the role that best fits the user's responsibilities.",data:[{value:"Project Manager",label:"Project Manager"},{value:"Developer",label:"Developer"},{value:"Quality Assurance",label:"Quality Assurance"}]})})]})}),e.jsx(a.Col,{span:{base:12},children:e.jsxs(a,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(a.Col,{span:{base:12,sm:4},children:e.jsx(n,{order:5,children:"Password"})}),e.jsx(a.Col,{span:{base:12,sm:8},children:e.jsx(E,{value:s.data.password,onChange:j,error:s.errors.password,placeholder:"Enter new password",leftSection:e.jsx(S,{}),description:"Set a new password for the user."})})]})}),e.jsx(a.Col,{span:{base:12,sm:8},align:"end",children:e.jsx(C,{type:"submit",leftSection:e.jsx(_,{}),disabled:s.processing||g,loading:s.processing,children:"Save Changes"})})]})]})})};export{L as default};
