import{b as C,j as r,q as n,S as v,Y as w,o as i,c as E}from"./app-D3R6lm7F.js";import{P as y}from"./PageHeadings-psyFkYvz.js";import{a as I,A as _,C as P,T as S}from"./AppLayout-B3HIGmJ6.js";import{I as D}from"./IconMail-BJ4Rn4LR.js";import{I as A}from"./IconKey-C1XLFxFD.js";import{I as U}from"./IconPassword--c8nw3to.js";import{G as l}from"./Grid-C0iy7L3J.js";import{T as F}from"./Text-BxAYQD4o.js";import{I as T}from"./IconCornerDownLeft-DgwkMie4.js";const Q=({auth:d})=>{const{user:c}=d,e=C({full_name:"",email:"",role:"",password:""}),t=(s,a)=>a?s==="email"&&!a.endsWith("@bugeur.id")?"Email must use @bugeur.id.":null:`${s.replace("_"," ").replace(/^\w/,o=>o.toUpperCase())} is required.`,m=s=>{const a=s.target.value;e.setData("full_name",a);const o=t("full_name",a);o?e.setError("full_name",o):e.clearErrors("full_name")},u=s=>{const a=s.target.value;e.setData("email",a),e.setData("password",a);const o=t("email",a);o?e.setError("email",o):e.clearErrors("email")},p=s=>{e.setData("role",s);const a=t("role",s);a?e.setError("role",a):e.clearErrors("role")},f=s=>{s.preventDefault(),e.post(route("users.store"),{onFinish:()=>e.reset()})},h=[{label:"Full Name",value:e.data.full_name,onChange:m,error:e.errors.full_name,placeholder:"e.g., John Doe",description:"Enter the user’s full name (e.g., first and last name).",leftSection:r.jsx(I,{}),component:n},{label:"Email Address",value:e.data.email,onChange:u,error:e.errors.email,placeholder:"e.g., johndoe@bugeur.id",description:"Provide a valid email address ending with @bugeur.id.",leftSection:r.jsx(D,{}),component:n},{label:"Role",value:e.data.role,onChange:p,error:e.errors.role,placeholder:"Select user’s role",description:"Assign the user a role: Project Manager, Developer, or QA.",leftSection:r.jsx(A,{}),component:v,data:[{value:"project_manager",label:"Project Manager"},{value:"developer",label:"Developer"},{value:"quality_assurance",label:"Quality Assurance"}]},{label:"Password",value:e.data.password,error:e.errors.password,placeholder:"Auto-generated based on email",description:"Password will be automatically generated from the email address.",leftSection:r.jsx(U,{}),component:w,readOnly:!0,disabled:!0}],g=Object.keys(e.errors).length>0,b=!e.data.full_name||!e.data.email||!e.data.role;return r.jsx("form",{onSubmit:f,children:r.jsx(_,{title:"Create User",user:c,children:r.jsxs(P,{flex:1,size:"xl",w:"100%",py:32,children:[r.jsx(y,{title:"Create New User",description:"Provide the necessary information to create a new user account and assign a role.",breadcrumbs:[{label:"Users",onClick:()=>i.get(route("users.index",{page:1}))},{label:"Create",onClick:()=>i.get(route("users.create"))}]}),r.jsxs(l,{gutter:32,justify:"flex-end",children:[h.map(({component:s,label:a,description:o,...x},j)=>r.jsx(l.Col,{span:{base:12},children:r.jsxs(l,{gutter:{base:8,sm:0},align:"start",children:[r.jsx(l.Col,{span:{base:12,sm:4},children:r.jsx(S,{order:5,children:a})}),r.jsxs(l.Col,{span:{base:12,sm:8},children:[r.jsx(s,{...x}),o&&r.jsx(F,{size:"xs",color:"dimmed",mt:8,children:o})]})]})},j)),r.jsx(l.Col,{span:{base:12,sm:8,smOffset:4},children:r.jsx(E,{type:"submit",fullWidth:!0,leftSection:r.jsx(T,{}),disabled:e.processing||g||b,loading:e.processing,children:"Create User"})})]})]})})})};export{Q as default};
