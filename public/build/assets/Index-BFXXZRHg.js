import{p as F,u as V,a as q,j as e,B as H,n as K,o as v,x as O,A as W,r as I,M as J,c as P,G as z,D as M,h as m,T as X,K as Y,L as Z}from"./app-RcAloIyv.js";import{T as D,P as ee}from"./PageHeadings-CIjb8soY.js";import{u as se,A as te,C as oe,d as ae,M as j,T,S as L}from"./AppLayout-Br51ywqD.js";import{S as re,C as _}from"./SimpleGrid-DEouYQHa.js";import{I as N,a as ne,b as le,c as ie,d as ce}from"./IconSearch-DMq2wQRd.js";import{G as E}from"./Grid-D53SFOGt.js";import{I as de}from"./IconTrash-D9RresD7.js";import{I as ue}from"./IconUsers-CJ8RwsaL.js";var G={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const he={},ge=K((o,{radius:i,color:a,gradient:g,variant:r,size:n,autoContrast:l})=>{const c=o.variantColorResolver({color:a||o.primaryColor,theme:o,gradient:g,variant:r||"filled",autoContrast:l});return{root:{"--badge-height":v(n,"badge-height"),"--badge-padding-x":v(n,"badge-padding-x"),"--badge-fz":v(n,"badge-fz"),"--badge-radius":i===void 0?void 0:O(i),"--badge-bg":a||r?c.background:void 0,"--badge-color":a||r?c.color:void 0,"--badge-bd":a||r?c.border:void 0,"--badge-dot-color":r==="dot"?W(a,o):void 0}}}),k=F((o,i)=>{const a=V("Badge",he,o),{classNames:g,className:r,style:n,styles:l,unstyled:c,vars:x,radius:B,color:b,gradient:A,leftSection:d,rightSection:u,children:y,variant:p,fullWidth:C,autoContrast:U,circle:S,mod:f,...w}=a,h=q({name:"Badge",props:a,classes:G,className:r,style:n,classNames:g,styles:l,unstyled:c,vars:x,varsResolver:ge});return e.jsxs(H,{variant:p,mod:[{block:C,circle:S,"with-right-section":!!u,"with-left-section":!!d},f],...h("root",{variant:p}),ref:i,...w,children:[d&&e.jsx("span",{...h("section"),"data-position":"left",children:d}),e.jsx("span",{...h("label"),children:y}),u&&e.jsx("span",{...h("section"),"data-position":"right",children:u})]})});k.classes=G;k.displayName="@mantine/core/Badge";const Se=o=>{const[i,a]=I.useState(""),[g,{open:r,close:n}]=se(!1),[l,c]=I.useState(null),[x,B]=I.useState(o.users.current_page),{data:b,last_page:A,total:d,per_page:u}=o.users,y=s=>{const t=s.trim().split(" ");return t.length===1?t[0][0].toUpperCase():`${t[0][0]}${t.at(-1)[0]}`.toUpperCase()},p=s=>{m.get(route("users.edit",s.id))},C=()=>{l&&m.delete(route("users.destroy",l.id),{onSuccess:n})},U=s=>{c(s),r()},S=[{label:"Edit",action:p,leftSection:e.jsx(ie,{}),color:"yellow"},{label:"Delete",action:U,leftSection:e.jsx(de,{}),color:"red"}],f=b.filter(s=>{const t=i.toLowerCase();return s.full_name.toLowerCase().includes(t)||s.role.toLowerCase().includes(t)||s.email.toLowerCase().includes(t)}),w=s=>{B(s),m.get(route("users.index"),{page:s})},h=`Showing ${u*(x-1)+1} â€“ ${Math.min(d,u*x)} of ${d}`,R=()=>e.jsxs(L,{align:"center",py:32,spacing:"xs",children:[e.jsx(ue,{size:48,color:"gray"}),e.jsx(T,{order:3,c:"gray",children:"No users available yet."})]}),$=()=>e.jsxs(L,{align:"center",py:32,spacing:"xs",children:[e.jsx(ce,{size:48,color:"gray"}),e.jsx(T,{order:3,c:"gray",children:"User Not Found"})]});return e.jsxs(te,{title:o.title,user:o.auth.user,notification:o.notification,children:[e.jsxs(J,{opened:g,onClose:n,title:"Confirm Deletion",centered:!0,children:[e.jsxs(D,{children:["Are you sure you want to delete"," ",e.jsx("strong",{children:l==null?void 0:l.full_name}),"? This action cannot be undone."]}),e.jsxs(re,{cols:2,mt:"md",children:[e.jsx(P,{variant:"default",onClick:n,children:"Cancel"}),e.jsx(P,{color:"red",onClick:C,children:"Delete"})]})]}),e.jsxs(oe,{flex:1,size:"xl",w:"100%",my:32,children:[e.jsxs(z,{justify:"space-between",align:"start",children:[e.jsx(ee,{title:"Users",description:"View, manage, and assign roles to user accounts within the system."}),e.jsx(ae,{label:"Craete User",children:e.jsx(M,{display:{base:"block",xs:"none"},onClick:()=>m.get(route("users.create")),children:e.jsx(N,{})})}),e.jsx(P,{leftSection:e.jsx(N,{}),display:{base:"none",xs:"block"},onClick:()=>m.get(route("users.create")),children:"Create User"})]}),e.jsxs(_,{withBorder:!0,shadow:"xs",children:[e.jsx(_.Section,{withBorder:!0,p:16,children:e.jsx(X,{leftSection:e.jsx(ne,{}),placeholder:"Search by name, email, or role...",value:i,onChange:s=>a(s.target.value)})}),b.length===0?R():f.length===0?$():e.jsx(E,{pt:16,gutter:"lg",children:f.map(s=>e.jsx(E.Col,{span:{base:12,sm:6,md:4,lg:3},children:e.jsxs(_,{shadow:"xs",radius:"md",withBorder:!0,children:[e.jsxs(j,{shadow:"xl",position:"bottom-end",withArrow:!0,arrowPosition:"center",children:[e.jsx(j.Target,{children:e.jsx(M,{pos:"absolute",variant:"subtle",color:"ghost",right:16,children:e.jsx(le,{})})}),e.jsx(j.Dropdown,{p:0,children:S.map((t,Q)=>e.jsx(j.Item,{leftSection:t.leftSection,onClick:()=>t.action(s),color:t.color||void 0,h:48,children:t.label},Q))})]}),e.jsx(Y,{mx:"auto",size:64,color:s.role==="Project Manager"?"magic":s.role==="Developer"?"peach":s.role==="Quality Assurance"?"soap":"default",children:y(s.full_name)}),e.jsx(T,{order:3,align:"center",mt:16,lineClamp:1,children:s.full_name}),e.jsx(D,{align:"center",c:"ghost",size:"sm",mb:16,children:s.email}),e.jsx(k,{mx:"auto",color:s.role==="Project Manager"?"magic":s.role==="Developer"?"peach":s.role==="Quality Assurance"?"soap":"default",variant:"light",children:s.role})]})},s.id))}),e.jsxs(z,{justify:"space-between",align:"center",mt:16,children:[e.jsx(D,{size:"sm",children:h}),e.jsx(Z,{value:x,onChange:w,total:A,radius:"xs"})]})]})]})]})};export{Se as default};
