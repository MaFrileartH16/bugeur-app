import{p as se,u as C,r as z,a as _,j as e,B as x,n as k,x as re,y as te,g as A,z as ae,d as U,s as F,A as w,G as N,c as oe,D as G,h as R}from"./app-RcAloIyv.js";import{A as ne,T as le}from"./AppLayout-Br51ywqD.js";import{I as ie}from"./IconEdit-BP6U4vUC.js";import{I as ce}from"./IconTrash-D9RresD7.js";var L={root:"m_9e117634"};const de={},he=k((s,{radius:t,fit:r})=>({root:{"--image-radius":t===void 0?void 0:re(t),"--image-object-fit":r}})),H=se((s,t)=>{const r=C("Image",de,s),{classNames:l,className:i,style:o,styles:n,unstyled:c,vars:u,onError:d,src:h,radius:m,fit:T,fallbackSrc:f,mod:b,...y}=r,[B,g]=z.useState(!h);z.useEffect(()=>g(!h),[h]);const v=_({name:"Image",classes:L,props:r,className:i,style:o,classNames:l,styles:n,unstyled:c,vars:u,varsResolver:he});return B&&f?e.jsx(x,{component:"img",ref:t,src:f,...v("root"),onError:d,mod:["fallback",b],...y}):e.jsx(x,{component:"img",ref:t,...v("root"),src:h,onError:E=>{d==null||d(E),g(!0)},mod:b,...y})});H.classes=L;H.displayName="@mantine/core/Image";const[ue,me]=te("Table component was not found in the tree");var j={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function pe(s,t){if(!t)return;const r={};return t.columnBorder&&s.withColumnBorders&&(r["data-with-column-border"]=!0),t.rowBorder&&s.withRowBorders&&(r["data-with-row-border"]=!0),t.striped&&s.striped&&(r["data-striped"]=s.striped),t.highlightOnHover&&s.highlightOnHover&&(r["data-hover"]=!0),t.captionSide&&s.captionSide&&(r["data-side"]=s.captionSide),t.stickyHeader&&s.stickyHeader&&(r["data-sticky"]=!0),r}function p(s,t){const r=`Table${s.charAt(0).toUpperCase()}${s.slice(1)}`,l=A((i,o)=>{const n=C(r,{},i),{classNames:c,className:u,style:d,styles:h,...m}=n,T=me();return e.jsx(x,{component:s,ref:o,...pe(T,t),...T.getStyles(s,{className:u,classNames:c,style:d,styles:h,props:n}),...m})});return l.displayName=`@mantine/core/${r}`,l.classes=j,l}const I=p("th",{columnBorder:!0}),V=p("td",{columnBorder:!0}),S=p("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),W=p("thead",{stickyHeader:!0}),q=p("tbody"),J=p("tfoot"),K=p("caption",{captionSide:!0});function $({data:s}){return e.jsxs(e.Fragment,{children:[s.caption&&e.jsx(K,{children:s.caption}),s.head&&e.jsx(W,{children:e.jsx(S,{children:s.head.map((t,r)=>e.jsx(I,{children:t},r))})}),s.body&&e.jsx(q,{children:s.body.map((t,r)=>e.jsx(S,{children:t.map((l,i)=>e.jsx(V,{children:l},i))},r))}),s.foot&&e.jsx(J,{children:e.jsx(S,{children:s.foot.map((t,r)=>e.jsx(I,{children:t},r))})})]})}$.displayName="@mantine/core/TableDataRenderer";const Te={type:"scrollarea"},fe=k((s,{minWidth:t,type:r})=>({scrollContainer:{"--table-min-width":U(t),"--table-overflow":r==="native"?"auto":void 0}})),D=A((s,t)=>{const r=C("TableScrollContainer",Te,s),{classNames:l,className:i,style:o,styles:n,unstyled:c,vars:u,children:d,minWidth:h,type:m,...T}=r,f=_({name:"TableScrollContainer",classes:j,props:r,className:i,style:o,classNames:l,styles:n,unstyled:c,vars:u,varsResolver:fe,rootSelector:"scrollContainer"});return e.jsx(x,{component:m==="scrollarea"?ae:"div",...m==="scrollarea"?{offsetScrollbars:"x"}:{},ref:t,...f("scrollContainer"),...T,children:e.jsx("div",{...f("scrollContainerInner"),children:d})})});D.classes=j;D.displayName="@mantine/core/TableScrollContainer";const be={withRowBorders:!0,verticalSpacing:7},xe=k((s,{layout:t,captionSide:r,horizontalSpacing:l,verticalSpacing:i,borderColor:o,stripedColor:n,highlightOnHoverColor:c,striped:u,highlightOnHover:d,stickyHeaderOffset:h,stickyHeader:m})=>({table:{"--table-layout":t,"--table-caption-side":r,"--table-horizontal-spacing":F(l),"--table-vertical-spacing":F(i),"--table-border-color":o?w(o,s):void 0,"--table-striped-color":u&&n?w(n,s):void 0,"--table-highlight-on-hover-color":d&&c?w(c,s):void 0,"--table-sticky-header-offset":m?U(h):void 0}})),a=A((s,t)=>{const r=C("Table",be,s),{classNames:l,className:i,style:o,styles:n,unstyled:c,vars:u,horizontalSpacing:d,verticalSpacing:h,captionSide:m,stripedColor:T,highlightOnHoverColor:f,striped:b,highlightOnHover:y,withColumnBorders:B,withRowBorders:g,withTableBorder:v,borderColor:E,layout:je,variant:M,data:O,children:Q,stickyHeader:X,stickyHeaderOffset:ye,mod:Y,tabularNums:Z,...ee}=r,P=_({name:"Table",props:r,className:i,style:o,classes:j,classNames:l,styles:n,unstyled:c,rootSelector:"table",vars:u,varsResolver:xe});return e.jsx(ue,{value:{getStyles:P,stickyHeader:X,striped:b===!0?"odd":b||void 0,highlightOnHover:y,withColumnBorders:B,withRowBorders:g,captionSide:m||"bottom"},children:e.jsx(x,{component:"table",variant:M,ref:t,mod:[{"data-with-table-border":v,"data-tabular-nums":Z},Y],...P("table"),...ee,children:Q||!!O&&e.jsx($,{data:O})})})});a.classes=j;a.displayName="@mantine/core/Table";a.Td=V;a.Th=I;a.Tr=S;a.Thead=W;a.Tbody=q;a.Tfoot=J;a.Caption=K;a.ScrollContainer=D;a.DataRenderer=$;const Be=({project:s,bugs:t})=>{console.log(t);const r=()=>{R.get(route("projects.bugs.create",s.id))},l=(o,n)=>{R.get(route("projects.bugs.edit",[o,n]))},i=(o,n)=>{confirm("Are you sure you want to delete this bug?")&&R.delete(route("projects.bugs.destroy",[o,n]),{onSuccess:()=>{alert("Bug deleted successfully.")}})};return e.jsxs(ne,{title:`Bugs for ${s.title}`,children:[e.jsxs(N,{position:"apart",mb:"md",children:[e.jsxs(le,{order:2,children:["Bugs for ",s.title]}),e.jsx(oe,{onClick:r,color:"blue",children:"Add Bug"})]}),e.jsxs(a,{highlightOnHover:!0,children:[e.jsx(a.Thead,{children:e.jsxs(a.Tr,{children:[e.jsx(a.Th,{children:"ID"}),e.jsx(a.Th,{children:"Title"}),e.jsx(a.Th,{children:"Type"}),e.jsx(a.Th,{children:"Status"}),e.jsx(a.Th,{children:"Assignee"}),e.jsx(a.Th,{children:"Deadline"}),e.jsx(a.Th,{children:"Screenshots"}),e.jsx(a.Th,{children:"Actions"})]})}),e.jsx(a.Tbody,{children:t.map(o=>e.jsxs(a.Tr,{children:[e.jsx(a.Td,{children:o.id}),e.jsx(a.Td,{children:o.title}),e.jsx(a.Td,{children:o.bug_type}),e.jsx(a.Td,{children:o.status}),e.jsx(a.Td,{children:o.assignee?o.assignee.username:"Unassigned"}),e.jsx(a.Td,{children:o.deadline}),e.jsx(a.Td,{children:o.screenshots.length>0?e.jsx(N,{spacing:"xs",children:o.screenshots.map((n,c)=>e.jsx(H,{src:n.images,alt:`Screenshot ${c+1}`,width:50,height:50,withPlaceholder:!0},c))}):"No screenshots"}),e.jsx(a.Td,{children:e.jsxs(N,{spacing:"sm",children:[e.jsx(G,{color:"blue",onClick:()=>l(s.id,o.id),children:e.jsx(ie,{size:16})}),e.jsx(G,{color:"red",onClick:()=>i(s.id,o.id),children:e.jsx(ce,{size:16})})]})})]},o.id))})]})]})};export{Be as default};
