import{a as f,j as e,o as i,S as g,b as C}from"./app-C9ln7LQQ.js";import{P as w}from"./PageHeadings-BuYZZvPj.js";import{P as v}from"./PasswordInput-B6y1LYWc.js";import{T as d}from"./TextInput--M8nr6Ry.js";import{A as E,T as o,b as y}from"./AppLayout-ByFfe6H_.js";import{G as r}from"./Grid-Br5EmCLj.js";import{I as _,a as I}from"./IconPassword-DP1h-FQz.js";import{I as S}from"./IconKey-CacYAHQZ.js";import{I as D}from"./IconCornerDownLeft-Cey7VFcl.js";const G=({auth:c})=>{const{user:m}=c,s=f({full_name:"",email:"",role:"",password:""}),n=(l,a)=>a?l==="email"&&!a.endsWith("@bugeur.id")?"Email must use @bugeur.id.":null:`${l.replace("_"," ").replace(/^\w/,t=>t.toUpperCase())} is required.`,u=l=>{const a=l.target.value;s.setData("full_name",a);const t=n("full_name",a);t?s.setError("full_name",t):s.clearErrors("full_name")},p=l=>{const a=l.target.value;s.setData("email",a),s.setData("password",a);const t=n("email",a);t?s.setError("email",t):s.clearErrors("email")},h=l=>{s.setData("role",l);const a=n("role",l);a?s.setError("role",a):s.clearErrors("role")},j=l=>{l.preventDefault(),s.post(route("users.store"),{onFinish:()=>s.reset()})},x=Object.keys(s.errors).length>0,b=!s.data.full_name||!s.data.email||!s.data.role;return e.jsx("form",{onSubmit:j,children:e.jsxs(E,{title:"Create New User",user:m,children:[e.jsx(w,{title:"Create a New User",description:"Fill in the details below to create a new user account.",breadcrumbs:[{label:"Users",onClick:()=>i.get(route("users.index",{page:1}))},{label:"Create",onClick:()=>i.get(route("users.create"))}]}),e.jsxs(r,{gutter:32,justify:"flex-end",children:[e.jsx(r.Col,{span:{base:12},children:e.jsxs(r,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(r.Col,{span:{base:12,sm:4},children:e.jsx(o,{order:5,children:"Full Name"})}),e.jsx(r.Col,{span:{base:12,sm:8},children:e.jsx(d,{value:s.data.full_name,onChange:u,error:s.errors.full_name,placeholder:"Enter full name",leftSection:e.jsx(y,{}),description:"The user's full name as it will appear in the system."})})]})}),e.jsx(r.Col,{span:{base:12},children:e.jsxs(r,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(r.Col,{span:{base:12,sm:4},children:e.jsx(o,{order:5,children:"Email Address"})}),e.jsx(r.Col,{span:{base:12,sm:8},children:e.jsx(d,{value:s.data.email,onChange:p,error:s.errors.email,placeholder:"Enter email address",leftSection:e.jsx(_,{}),description:"  Use a valid email address ending with @bugeur.id."})})]})}),e.jsx(r.Col,{span:{base:12},children:e.jsxs(r,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(r.Col,{span:{base:12,sm:4},children:e.jsx(o,{order:5,children:"Role"})}),e.jsx(r.Col,{span:{base:12,sm:8},children:e.jsx(g,{value:s.data.role,onChange:h,error:s.errors.role,placeholder:"Select a role",leftSection:e.jsx(S,{}),description:"Choose the role that best fits the user's responsibilities.",data:[{value:"project_manager",label:"Project Manager"},{value:"developer",label:"Developer"},{value:"quality_assurance",label:"Quality Assurance"}]})})]})}),e.jsx(r.Col,{span:{base:12},children:e.jsxs(r,{gutter:{base:8,sm:0},align:"start",children:[e.jsx(r.Col,{span:{base:12,sm:4},children:e.jsx(o,{order:5,children:"Password"})}),e.jsx(r.Col,{span:{base:12,sm:8},children:e.jsx(v,{value:s.data.password,placeholder:"Auto-generated",leftSection:e.jsx(I,{}),readOnly:!0,disabled:!0,description:"The password will be automatically generated from the email."})})]})}),e.jsx(r.Col,{span:{base:12,sm:8},align:"end",children:e.jsx(C,{type:"submit",leftSection:e.jsx(D,{}),disabled:s.processing||x||b,loading:s.processing,children:"Create User"})})]})]})})};export{G as default};
