import{F as D,f as U,u as V,d as L,j as e,B as f,e as E,H as G,ab as H,ac as J,l as X,S as $,r as g,J as q,o as M,b as K,G as A,a0 as F,X as O}from"./app-7YMc50Dg.js";import{c as u,a as o,A as W,F as Y,f as Z,S as B,T as ee,C as te,i as ae,B as se}from"./AppLayout-CEt-gjRC.js";import{P as le}from"./PageHeadings-C-xWolHM.js";import{T as re}from"./TextInput-BLQgohKo.js";import{I as N,C as T}from"./IconPlus-Nua_p-hj.js";import{G as y}from"./Grid-DAqkWNCY.js";import{I as ne}from"./IconSearch-CBVBkvjm.js";import{I as ie}from"./IconUsers-B8ER1h1V.js";function oe(t="top-end",r=0){const s={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},l=D(r),[i,n]=t.split("-");return i==="top"&&(s["--indicator-top"]=l,s["--indicator-translate-y"]="-50%"),i==="middle"&&(s["--indicator-top"]="50%",s["--indicator-translate-y"]="-50%"),i==="bottom"&&(s["--indicator-bottom"]=l,s["--indicator-translate-y"]="50%"),n==="start"&&(s["--indicator-left"]=l,s["--indicator-translate-x"]="-50%"),n==="center"&&(s["--indicator-left"]="50%",s["--indicator-translate-x"]="-50%"),n==="end"&&(s["--indicator-right"]=l,s["--indicator-translate-x"]="50%"),s}var Q={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const ce={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},de=E((t,{color:r,position:s,offset:l,size:i,radius:n,zIndex:c,autoContrast:d})=>({root:{"--indicator-color":r?G(r,t):void 0,"--indicator-text-color":H(d,t)?J({color:r,theme:t,autoContrast:d}):void 0,"--indicator-size":D(i),"--indicator-radius":n===void 0?void 0:X(n),"--indicator-z-index":c==null?void 0:c.toString(),...oe(s,l)}})),C=U((t,r)=>{const s=V("Indicator",ce,t),{classNames:l,className:i,style:n,styles:c,unstyled:d,vars:v,children:p,position:b,offset:h,inline:k,label:m,radius:I,color:w,withBorder:_,disabled:j,processing:a,zIndex:S,autoContrast:xe,mod:z,...R}=s,P=L({name:"Indicator",classes:Q,props:s,className:i,style:n,classNames:l,styles:c,unstyled:d,vars:v,varsResolver:de});return e.jsxs(f,{ref:r,...P("root"),mod:[{inline:k},z],...R,children:[!j&&e.jsx(f,{mod:{"with-label":!!m,"with-border":_,processing:a},...P("indicator"),children:m}),p]})});C.classes=Q;C.displayName="@mantine/core/Indicator";/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var he=u("outline","arrows-up-down","IconArrowsUpDown",[["path",{d:"M7 3l0 18",key:"svg-0"}],["path",{d:"M10 6l-3 -3l-3 3",key:"svg-1"}],["path",{d:"M20 18l-3 3l-3 -3",key:"svg-2"}],["path",{d:"M17 21l0 -18",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ue=u("outline","bolt","IconBolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ge=u("outline","filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fe=u("outline","hierarchy-3","IconHierarchy3",[["path",{d:"M12 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M12 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M20 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}],["path",{d:"M16 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-5"}],["path",{d:"M5 17l2 -3",key:"svg-6"}],["path",{d:"M9 10l2 -3",key:"svg-7"}],["path",{d:"M13 7l2 3",key:"svg-8"}],["path",{d:"M17 14l2 3",key:"svg-9"}],["path",{d:"M15 14l-2 3",key:"svg-10"}],["path",{d:"M9 14l2 3",key:"svg-11"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ve=u("outline","number","IconNumber",[["path",{d:"M4 17v-10l7 10v-10",key:"svg-0"}],["path",{d:"M15 17h5",key:"svg-1"}],["path",{d:"M17.5 10m-2.5 0a2.5 3 0 1 0 5 0a2.5 3 0 1 0 -5 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var me=u("outline","sort-ascending-letters","IconSortAscendingLetters",[["path",{d:"M15 10v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4",key:"svg-0"}],["path",{d:"M19 21h-4l4 -7h-4",key:"svg-1"}],["path",{d:"M4 15l3 3l3 -3",key:"svg-2"}],["path",{d:"M7 6v12",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ye=u("outline","sort-descending-letters","IconSortDescendingLetters",[["path",{d:"M15 21v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4",key:"svg-0"}],["path",{d:"M19 10h-4l4 -7h-4",key:"svg-1"}],["path",{d:"M4 15l3 3l3 -3",key:"svg-2"}],["path",{d:"M7 6v12",key:"svg-3"}]]);const x=({description:t,error:r,...s})=>e.jsxs(e.Fragment,{children:[t&&e.jsx(o,{c:"ghost",mb:8,children:t}),e.jsx($,{mt:t?0:8,...s,styles:{input:{borderColor:r?"red":void 0}}}),r&&e.jsx(o,{c:"red",mt:8,children:r})]}),Ie=t=>{const[r,s]=g.useState(t.search||""),[l,i]=g.useState({key:t.sort_key||"",direction:t.sort_direction||"asc"}),[n,c]=g.useState(t.filter_type||""),[d,v]=g.useState(t.filter_value||""),[p,b]=g.useState(String(t.per_page)||"10");g.useEffect(()=>{s(t.search||""),i({key:t.sort_key||"",direction:t.sort_direction||"asc"}),c(t.filter_type||""),v(t.filter_value||""),b(String(t.per_page)||"10")},[t.search,t.sort_key,t.sort_direction,t.filter_type,t.filter_value,t.per_page]);const h=a=>{M.get(route("users.index"),{page:1,search:r,sort_key:l.key,sort_direction:l.direction,filter_type:n,filter_value:d,per_page:Number(p),...a})},k=a=>{s(a),h({search:a})},m=(a,S)=>{i({key:a,direction:S}),h({sort_key:a,sort_direction:S})},I=a=>{c(a),v(""),h({filter_type:a,filter_value:""})},w=a=>{v(a),h({filter_value:a})},_=a=>{b(a),h({per_page:Number(a)})},j=a=>{h({page:a})};return e.jsxs(W,{title:t.title,user:t.auth.user,notification:t.notification,children:[e.jsxs(Y,{justify:"space-between",align:"start",gap:16,children:[e.jsx(le,{title:"Users",description:"Manage users with search, sort, filter, and customizable pagination."}),t.auth.user.role==="Admin"&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{label:"Create Users",children:e.jsx(q,{display:{base:"block",xs:"none"},onClick:()=>M.get(route("users.create")),children:e.jsx(N,{})})}),e.jsx(K,{leftSection:e.jsx(N,{}),display:{base:"none",xs:"block"},onClick:()=>M.get(route("users.create")),children:"Create User"})]})]}),e.jsxs(y,{gutter:32,children:[e.jsx(y.Col,{span:{base:0,lg:3},children:e.jsx(T,{p:16,withBorder:!0,pos:"sticky",top:112,children:e.jsxs(B,{gap:32,children:[e.jsxs(f,{children:[e.jsx(o,{fw:500,children:"Search"}),e.jsx(re,{leftSection:e.jsx(ne,{}),placeholder:"Search by name or email...",value:r,onChange:a=>k(a.target.value)})]}),e.jsxs(f,{children:[e.jsx(o,{fw:500,children:"Sort"}),e.jsx(x,{clearable:!0,leftSection:e.jsx(he,{}),placeholder:"Sort by...",value:l.key,data:[{label:"Full Name",value:"full_name"},{label:"Email",value:"email"},{label:"Role",value:"role"}],onChange:a=>m(a,l.direction)}),l.key&&e.jsx(x,{leftSection:l.direction==="asc"?e.jsx(me,{}):e.jsx(ye,{}),placeholder:"Direction...",value:l.direction,data:[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],onChange:a=>m(l.key,a)})]}),e.jsxs(f,{children:[e.jsx(o,{fw:500,children:"Filter"}),e.jsx(x,{clearable:!0,leftSection:e.jsx(ge,{}),placeholder:"Filter by...",value:n,data:[{label:"Role",value:"role"},{label:"Status",value:"status"}],onChange:I}),e.jsx(x,{clearable:!0,leftSection:n==="role"?e.jsx(fe,{}):e.jsx(ue,{}),placeholder:n==="role"?"Select role...":"Select status...",value:d,data:n==="role"?[{label:"Project Manager",value:"Project Manager"},{label:"Developer",value:"Developer"},{label:"Quality Assurance",value:"Quality Assurance"}]:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],onChange:w,mt:"sm"})]}),e.jsxs(f,{children:[e.jsx(o,{fw:500,children:"Items per page"}),e.jsx(x,{clearable:!1,leftSection:e.jsx(ve,{}),placeholder:"Select items per page...",value:p,data:[{label:"10",value:"10"},{label:"20",value:"20"},{label:"30",value:"30"},{label:"40",value:"40"},{label:"50",value:"50"}],onChange:_})]})]})})}),e.jsxs(y.Col,{span:{base:12,lg:9},children:[e.jsxs(A,{justify:"space-between",align:"center",mb:16,children:[e.jsxs(o,{size:"sm",children:["Showing ",t.users.from," â€“ ",t.users.to," of"," ",t.users.total]}),e.jsx(F,{value:t.users.current_page,onChange:j,total:t.users.last_page,radius:"xs"})]}),t.users.data.length===0?e.jsxs(B,{align:"center",py:32,spacing:"xs",children:[e.jsx(ie,{size:48,color:"gray"}),e.jsx(ee,{order:3,c:"gray",children:"No users available yet."})]}):e.jsx(y,{gutter:"lg",children:t.users.data.map(a=>e.jsx(y.Col,{span:{base:6,sm:4,md:3},children:e.jsxs(T,{shadow:"xs",radius:"md",withBorder:!0,children:[e.jsx(te,{children:e.jsx(C,{radius:16,color:a.deleted_at?"red":"green",inline:!0,size:16,offset:7,position:"bottom-end",children:e.jsx(O,{size:48,src:a.profile_photo_path||void 0,children:!a.profile_photo_path&&ae(a.full_name)})})}),e.jsx(o,{fw:500,align:"center",mt:16,lineClamp:1,children:a.full_name}),e.jsx(o,{align:"center",c:"ghost",size:"sm",mb:16,lineClamp:1,children:a.email}),e.jsx(se,{mx:"auto",color:a.role==="Project Manager"?"magic":a.role==="Developer"?"peach":a.role==="Quality Assurance"?"soap":"default",variant:"light",children:a.role.replace("_"," ")})]})},a.id))}),e.jsxs(A,{justify:"space-between",align:"center",mt:16,children:[e.jsxs(o,{size:"sm",children:["Showing ",t.users.from," â€“ ",t.users.to," of"," ",t.users.total]}),e.jsx(F,{value:t.users.current_page,onChange:j,total:t.users.last_page,radius:"xs"})]})]})]})]})};export{Ie as default};
