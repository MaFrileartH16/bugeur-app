import{b as x,j as r,T as i,S as j,P as C,h as d,c as v}from"./app-RcAloIyv.js";import{P as w,T as y}from"./PageHeadings-CIjb8soY.js";import{b as I,A as P,C as S,T as E}from"./AppLayout-Br51ywqD.js";import{I as _}from"./IconMail-BU_-sF0G.js";import{I as A}from"./IconKey-CRyqks5g.js";import{I as D}from"./IconPassword-C6OfzE0d.js";import{G as t}from"./Grid-D53SFOGt.js";import{I as T}from"./IconCornerDownLeft-D7W_spy8.js";const L=({auth:c})=>{const{user:u}=c,e=x({full_name:"",email:"",role:"",password:""}),m=(s,o)=>o?s==="email"&&!o.endsWith("@bugeur.id")?"Email must use @bugeur.id.":null:`${s.replace("_"," ").replace(/^\w/,a=>a.toUpperCase())} is required.`,l=s=>o=>{const a=o.target.value;e.setData(s,a);const n=m(s,a);n?e.setError(s,n):e.clearErrors(s)},p=s=>{s.preventDefault(),e.post(route("users.store"),{onFinish:()=>e.reset()})},h=[{label:"Full Name",value:e.data.full_name,onChange:l("full_name"),error:e.errors.full_name,placeholder:"e.g., John Doe",description:"Enter the user’s full name (e.g., first and last name).",leftSection:r.jsx(I,{}),component:i},{label:"Email Address",value:e.data.email,onChange:l("email"),error:e.errors.email,placeholder:"e.g., johndoe@bugeur.id",description:"Provide a valid email address ending with @bugeur.id.",leftSection:r.jsx(_,{}),component:i},{label:"Role",value:e.data.role,onChange:l("role"),error:e.errors.role,placeholder:"Select user’s role",description:"Assign the user a role: Project Manager, Developer, or QA.",leftSection:r.jsx(A,{}),component:j,data:[{value:"project_manager",label:"Project Manager"},{value:"developer",label:"Developer"},{value:"quality_assurance",label:"Quality Assurance"}]},{label:"Password",value:e.data.password,onChange:l("password"),error:e.errors.password,placeholder:"Auto-generated based on email",description:"Password will be automatically generated from the email address.",leftSection:r.jsx(D,{}),component:C,readOnly:!0,disabled:!0}],f=Object.keys(e.errors).length>0,g=!e.data.full_name||!e.data.email||!e.data.role;return r.jsx("form",{onSubmit:p,children:r.jsx(P,{title:"Create User",user:u,children:r.jsxs(S,{flex:1,size:"xl",w:"100%",py:32,children:[r.jsx(w,{title:"Create New User",description:"Provide the necessary information to create a new user account and assign a role.",breadcrumbs:[{label:"Users",onClick:()=>d.get(route("users.index"))},{label:"Create",onClick:()=>d.get(route("users.create"))}]}),r.jsxs(t,{gutter:16,justify:"flex-end",children:[h.map(({component:s,label:o,description:a,...n},b)=>r.jsx(t.Col,{span:{base:12},children:r.jsxs(t,{gutter:{base:8,sm:0},align:"center",children:[r.jsx(t.Col,{span:{base:12,sm:4},children:r.jsx(E,{order:5,children:o})}),r.jsxs(t.Col,{span:{base:12,sm:8},children:[r.jsx(s,{...n}),a&&r.jsx(y,{size:"xs",color:"dimmed",mt:8,children:a})]})]})},b)),r.jsx(t.Col,{span:{base:12,sm:8,smOffset:4},children:r.jsx(v,{type:"submit",fullWidth:!0,leftSection:r.jsx(T,{}),disabled:e.processing||f||g,loading:e.processing,children:"Create User"})})]})]})})})};export{L as default};
