import{r as h,j as e,M as N,c as j,G as c,D as C,h as o,T as F,K as L}from"./app-l3PHe4uA.js";import{u as $,A as O,C as Q,T as a,F as q,M as r,S}from"./AppLayout-C8W-FPwP.js";import{T as i,S as K,a as R,I as w,C as u,b as U,c as V,d as W,B as H,e as J}from"./IconSearch-CDZAVfi_.js";import{G as b}from"./Grid-ytByML-q.js";import{I as X}from"./IconTrash-Bj_WYK42.js";import{I as Y}from"./IconUsers-CKgdAAUf.js";const re=t=>{const[m,I]=h.useState(""),[k,{open:P,close:d}]=$(!1),[n,T]=h.useState(null),[x,v]=h.useState(t.projects.current_page),{data:g,last_page:z,total:p,per_page:f}=t.projects,D=s=>{o.get(route("projects.edit",s.id))},A=()=>{n&&o.delete(route("projects.destroy",n.id),{onSuccess:d})},B=s=>{T(s),P()},y=g.filter(s=>{const l=m.toLowerCase();return s.title.toLowerCase().includes(l)}),_=s=>{v(s),o.get(route("projects.index"),{page:s})},E=()=>e.jsxs(S,{align:"center",py:32,spacing:"xs",children:[e.jsx(Y,{size:48,color:"gray"}),e.jsx(a,{order:3,c:"gray",children:"No projects available yet."})]}),G=()=>e.jsxs(S,{align:"center",py:32,spacing:"xs",children:[e.jsx(J,{size:48,color:"gray"}),e.jsx(a,{order:3,c:"gray",children:"Project Not Found"})]}),M=`Showing ${f*(x-1)+1} â€“ ${Math.min(p,f*x)} of ${p}`;return e.jsxs(O,{title:t.title,user:t.auth.user,notification:t.notification,children:[e.jsxs(N,{opened:k,onClose:d,title:"Confirm Deletion",centered:!0,children:[e.jsxs(i,{children:["Are you sure you want to delete"," ",e.jsx("strong",{children:n==null?void 0:n.title}),"? This action cannot be undone."]}),e.jsxs(K,{cols:2,mt:"md",children:[e.jsx(j,{variant:"default",onClick:d,children:"Cancel"}),e.jsx(j,{color:"red",onClick:A,children:"Delete"})]})]}),e.jsxs(Q,{flex:1,size:"xl",w:"100%",my:32,children:[e.jsxs(c,{justify:"space-between",mb:32,children:[e.jsx(a,{order:2,children:t.title}),e.jsxs(c,{spacing:"xs",children:[e.jsx(R,{label:"Add Project",children:e.jsx(C,{display:{base:"block",xs:"none"},onClick:()=>o.get(route("projects.create")),children:e.jsx(w,{})})}),e.jsx(j,{leftSection:e.jsx(w,{}),display:{base:"none",xs:"block"},onClick:()=>o.get(route("projects.create")),children:"Add Project"})]})]}),e.jsxs(u,{withBorder:!0,children:[e.jsx(u.Section,{withBorder:!0,p:16,children:e.jsx(F,{leftSection:e.jsx(U,{}),placeholder:"Search by project title...",value:m,onChange:s=>I(s.target.value)})}),g.length===0?E():y.length===0?G():e.jsx(b,{pt:16,gutter:"lg",children:y.map(s=>e.jsx(b.Col,{span:{base:12,sm:6,md:4},children:e.jsxs(u,{shadow:"sm",radius:"md",withBorder:!0,sx:{position:"relative"},children:[e.jsxs(q,{align:"center",children:[e.jsx(a,{order:3,lineClamp:1,children:s.title}),e.jsxs(r,{shadow:"xl",position:"bottom-end",withArrow:!0,arrowPosition:"center",children:[e.jsx(r.Target,{children:e.jsx(C,{ml:"auto",variant:"subtle",color:"ghost",sx:{position:"absolute",top:8,right:8,zIndex:2},children:e.jsx(V,{})})}),e.jsxs(r.Dropdown,{p:0,children:[e.jsx(r.Item,{leftSection:e.jsx(W,{}),onClick:()=>D(s),color:"yellow",h:48,children:"Edit"}),e.jsx(r.Item,{leftSection:e.jsx(X,{}),onClick:()=>B(s),color:"red",h:48,children:"Delete"})]})]})]}),e.jsx(i,{color:"dimmed",size:"sm",mt:8,lineClamp:2,children:s.description||"No description available"}),e.jsx(i,{align:"center",color:"dimmed",size:"sm",mt:16,children:e.jsx("strong",{children:"Working On:"})}),e.jsx(c,{position:"center",spacing:"xs",mt:8,children:s.working_on.length>0?s.working_on.map(l=>e.jsx(H,{color:"blue",size:"sm",children:l.full_name},l.id)):e.jsx(i,{size:"xs",color:"dimmed",children:"No users assigned"})})]})},s.id))}),e.jsxs(c,{justify:"space-between",align:"center",mt:16,children:[e.jsx(i,{size:"sm",children:M}),e.jsx(L,{value:x,onChange:_,total:z,radius:"xs"})]})]})]})]})};export{re as default};
