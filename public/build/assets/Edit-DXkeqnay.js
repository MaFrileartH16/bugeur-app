import{b as f,j as r,T as d,P as g,h as u,c as x}from"./app-RcAloIyv.js";import{P as j,T as w}from"./PageHeadings-CIjb8soY.js";import{b as C,A as y,C as I,T as v}from"./AppLayout-Br51ywqD.js";import{I as P}from"./IconKey-CRyqks5g.js";import{I as E}from"./IconMail-BU_-sF0G.js";import{I as O}from"./IconPassword-C6OfzE0d.js";import{G as o}from"./Grid-D53SFOGt.js";import{I as T}from"./IconCornerDownLeft-D7W_spy8.js";const G=c=>{const{user:n}=c.auth,s=f({full_name:n.full_name||"",email:n.email||"",password:""}),p=(e,a)=>e==="password"&&!a?null:a?e==="email"&&!a.endsWith("@bugeur.id")?"Email must use @bugeur.id.":null:`${e.replace("_"," ").replace(/^\w/,l=>l.toUpperCase())} is required.`,i=e=>a=>{const t=a.target.value;s.setData(e,t);const l=p(e,t);l?s.setError(e,l):s.clearErrors(e)},m=e=>{e.preventDefault(),s.put(route("profile.update",n),{onFinish:()=>s.reset("password")})},h=[{label:"Full Name",value:s.data.full_name,onChange:i("full_name"),error:s.errors.full_name,placeholder:"e.g., John Doe",description:"This is your full name as it appears on your profile. It cannot be edited.",icon:r.jsx(C,{}),component:d,readOnly:!0,disabled:!0},{label:"Role",value:n.role,placeholder:"e.g., Project Manager",description:"Your assigned role within the system. This field is not editable.",icon:r.jsx(P,{}),component:d,readOnly:!0,disabled:!0},{label:"Email Address",value:s.data.email,onChange:i("email"),error:s.errors.email,placeholder:"e.g., johndoe@bugeur.id",description:"Your email address used for login and communication. It cannot be changed.",icon:r.jsx(E,{}),component:d,readOnly:!0,disabled:!0},{label:"New Password",value:s.data.password,onChange:i("password"),error:s.errors.password,placeholder:"Leave this blank to keep your current password",description:"Enter a new password if you wish to update it. Otherwise, leave it blank.",icon:r.jsx(O,{}),component:g}],b=Object.keys(s.errors).length>0;return r.jsx("form",{onSubmit:m,children:r.jsx(y,{title:c.title,user:n,children:r.jsxs(I,{flex:1,size:"xl",w:"100%",py:32,children:[r.jsx(j,{title:"Profile",description:"Access and update your account details, including personal information and preferences.",breadcrumbs:[{label:"Dashboard",onClick:()=>u.get(route("dashboard"))},{label:"Profile",onClick:()=>u.get(route("profile.edit"))}]}),r.jsxs(o,{gutter:16,justify:"flex-end",children:[h.map((e,a)=>{const t=e.component;return r.jsx(o.Col,{span:{base:12},children:r.jsxs(o,{gutter:8,align:"center",children:[r.jsx(o.Col,{span:{base:12,sm:4},children:r.jsx(v,{order:5,children:e.label})}),r.jsxs(o.Col,{span:{base:12,sm:8},children:[r.jsx(t,{leftSection:e.icon,placeholder:e.placeholder,value:e.value,onChange:e.onChange,error:e.error,readOnly:e.readOnly||!1,disabled:e.disabled||!1}),e.description&&r.jsx(w,{size:"sm",c:"ghost",mt:8,children:e.description})]})]})},a)}),r.jsx(o.Col,{span:{base:12,sm:8,smOffset:4},children:r.jsx(x,{type:"submit",fullWidth:!0,leftSection:r.jsx(T,{}),disabled:s.processing||b,loading:s.processing,children:"Save Changes"})})]})]})})})};export{G as default};
