import{F as Y,f as ae,u as te,d as le,j as e,B as h,e as se,H as ne,ab as re,ac as oe,l as ie,S as ce,$ as j,G as L,r as y,J as z,M as de,o as m,b as he,X as ue}from"./app-CqPmA3TL.js";import{c as i,a as o,u as ge,A as ve,i as xe,f as U,S as B,F as fe,T as je,C as ye,j as me,B as pe,M as p,d as be}from"./AppLayout-BbPgrAC3.js";import{P as ke}from"./PageHeadings-DebRarno.js";import{T as E}from"./TextInput-BxhNB_nr.js";import{I as T}from"./IconSearch-4WcfaoDL.js";import{I as $,C as V}from"./IconPlus-Bi43N7CR.js";import{G as S}from"./Grid-B4VPQKRf.js";import{I as Se}from"./IconUsers-DNITMq1l.js";import{I as Ie}from"./IconEdit-CPl93jZp.js";function Ce(t="top-end",r=0){const l={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},s=Y(r),[c,n]=t.split("-");return c==="top"&&(l["--indicator-top"]=s,l["--indicator-translate-y"]="-50%"),c==="middle"&&(l["--indicator-top"]="50%",l["--indicator-translate-y"]="-50%"),c==="bottom"&&(l["--indicator-bottom"]=s,l["--indicator-translate-y"]="50%"),n==="start"&&(l["--indicator-left"]=s,l["--indicator-translate-x"]="-50%"),n==="center"&&(l["--indicator-left"]="50%",l["--indicator-translate-x"]="-50%"),n==="end"&&(l["--indicator-right"]=s,l["--indicator-translate-x"]="50%"),l}var Z={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const Me={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},we=se((t,{color:r,position:l,offset:s,size:c,radius:n,zIndex:u,autoContrast:g})=>({root:{"--indicator-color":r?ne(r,t):void 0,"--indicator-text-color":re(g,t)?oe({color:r,theme:t,autoContrast:g}):void 0,"--indicator-size":Y(c),"--indicator-radius":n===void 0?void 0:ie(n),"--indicator-z-index":u==null?void 0:u.toString(),...Ce(l,s)}})),N=ae((t,r)=>{const l=te("Indicator",Me,t),{classNames:s,className:c,style:n,styles:u,unstyled:g,vars:I,children:b,position:w,offset:_,inline:A,label:C,radius:v,color:P,withBorder:x,disabled:f,processing:M,zIndex:D,autoContrast:Q,mod:R,...F}=l,a=le({name:"Indicator",classes:Z,props:l,className:c,style:n,classNames:s,styles:u,unstyled:g,vars:I,varsResolver:we});return e.jsxs(h,{ref:r,...a("root"),mod:[{inline:A},R],...F,children:[!f&&e.jsx(h,{mod:{"with-label":!!C,"with-border":x,processing:M},...a("indicator"),children:C}),b]})});N.classes=Z;N.displayName="@mantine/core/Indicator";/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G=i("outline","arrows-up-down","IconArrowsUpDown",[["path",{d:"M7 3l0 18",key:"svg-0"}],["path",{d:"M10 6l-3 -3l-3 3",key:"svg-1"}],["path",{d:"M20 18l-3 3l-3 -3",key:"svg-2"}],["path",{d:"M17 21l0 -18",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var H=i("outline","bolt","IconBolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _e=i("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ae=i("outline","chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pe=i("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var De=i("outline","chevrons-left","IconChevronsLeft",[["path",{d:"M11 7l-5 5l5 5",key:"svg-0"}],["path",{d:"M17 7l-5 5l5 5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Re=i("outline","chevrons-right","IconChevronsRight",[["path",{d:"M7 7l5 5l-5 5",key:"svg-0"}],["path",{d:"M13 7l5 5l-5 5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ee=i("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var X=i("outline","filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K=i("outline","hierarchy-3","IconHierarchy3",[["path",{d:"M12 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M12 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M20 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}],["path",{d:"M16 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-5"}],["path",{d:"M5 17l2 -3",key:"svg-6"}],["path",{d:"M9 10l2 -3",key:"svg-7"}],["path",{d:"M13 7l2 3",key:"svg-8"}],["path",{d:"M17 14l2 3",key:"svg-9"}],["path",{d:"M15 14l-2 3",key:"svg-10"}],["path",{d:"M9 14l2 3",key:"svg-11"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var J=i("outline","number","IconNumber",[["path",{d:"M4 17v-10l7 10v-10",key:"svg-0"}],["path",{d:"M15 17h5",key:"svg-1"}],["path",{d:"M17.5 10m-2.5 0a2.5 3 0 1 0 5 0a2.5 3 0 1 0 -5 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fe=i("outline","settings-search","IconSettingsSearch",[["path",{d:"M11.646 20.965a1.67 1.67 0 0 1 -1.321 -1.282a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c.728 .177 1.154 .71 1.279 1.303",key:"svg-0"}],["path",{d:"M14.985 11.694a3 3 0 1 0 -3.29 3.29",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M20.2 20.2l1.8 1.8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var W=i("outline","sort-ascending-letters","IconSortAscendingLetters",[["path",{d:"M15 10v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4",key:"svg-0"}],["path",{d:"M19 21h-4l4 -7h-4",key:"svg-1"}],["path",{d:"M4 15l3 3l3 -3",key:"svg-2"}],["path",{d:"M7 6v12",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q=i("outline","sort-descending-letters","IconSortDescendingLetters",[["path",{d:"M15 21v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4",key:"svg-0"}],["path",{d:"M19 10h-4l4 -7h-4",key:"svg-1"}],["path",{d:"M4 15l3 3l3 -3",key:"svg-2"}],["path",{d:"M7 6v12",key:"svg-3"}]]);const d=({description:t,error:r,...l})=>e.jsxs(e.Fragment,{children:[t&&e.jsx(o,{c:"gray",mb:8,children:t}),e.jsx(ce,{mt:t?0:8,...l,styles:{input:{borderColor:r?"red":void 0}}}),r&&e.jsx(o,{c:"red",mt:8,children:r})]}),O=t=>{const r=()=>e.jsx(De,{size:24}),l=()=>e.jsx(Ae,{size:24}),s=()=>e.jsx(Pe,{size:24}),c=()=>e.jsx(Re,{size:24}),n=()=>e.jsx(ee,{size:24});return e.jsx(j.Root,{...t,style:{overflowX:"auto",whiteSpace:"nowrap"},children:e.jsxs(L,{gap:8,style:{display:"inline-flex",flexWrap:"nowrap"},h:52,children:[e.jsx(j.First,{icon:r}),e.jsx(j.Previous,{icon:l}),e.jsx(j.Items,{dotsIcon:n}),e.jsx(j.Next,{icon:s}),e.jsx(j.Last,{icon:c})]})})},Ve=t=>{const[r,l]=y.useState(t.search||""),[s,c]=y.useState({key:t.sort_key||"",direction:t.sort_direction||"asc"}),[n,u]=y.useState(t.filter_key||""),[g,I]=y.useState(t.filter_value||""),[b,w]=y.useState(String(t.per_page)||"10"),[_,{open:A,close:C}]=ge(!1);y.useEffect(()=>{l(t.search||""),c({key:t.sort_key||"",direction:t.sort_direction||"asc"}),u(t.filter_key||""),I(t.filter_value||""),w(String(t.per_page)||"10")},[t.search,t.sort_key,t.sort_direction,t.filter_key,t.filter_value,t.per_page]);const v=a=>{m.get(route("users.index"),{page:1,search:r,sort_key:s.key,sort_direction:s.direction,filter_key:n,filter_value:g,per_page:Number(b),...a})},P=a=>{l(a),v({search:a})},x=(a,k)=>{c({key:a,direction:k}),v({sort_key:a,sort_direction:k})},f=(a,k)=>{u(a),I(k),v({filter_key:a,filter_value:k})},M=a=>{w(a),v({per_page:Number(a)})},D=a=>{v({page:a})},Q=a=>{m.get(route("users.edit",a))},R=a=>{console.log(a),confirm("Are you sure you want to restore this user?")&&m.patch(route("users.restore",a.id))},F=a=>{confirm("Are you sure you want to delete this user?")&&m.delete(route("users.destroy",a))};return e.jsxs(ve,{title:t.title,user:t.auth.user,notification:t.notification,children:[e.jsx(xe,{position:{bottom:16,left:16},style:{zIndex:2},display:{base:"block",lg:"none"},children:e.jsx(U,{label:"Settings Search",children:e.jsx(z,{bg:"white",onClick:A,variant:"outline",children:e.jsx(Fe,{})})})}),e.jsx(de,{opened:_,onClose:C,size:"xs",centered:!0,withCloseButton:!1,children:e.jsxs(B,{gap:32,children:[e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Search"}),e.jsx(E,{leftSection:e.jsx(T,{}),placeholder:"Search by name or email...",value:r,onChange:a=>P(a.target.value)})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Sort"}),e.jsx(d,{clearable:!0,leftSection:e.jsx(G,{}),placeholder:"Sort by...",value:s.key,data:[{label:"Full Name",value:"full_name"},{label:"Email",value:"email"},{label:"Role",value:"role"}],onChange:a=>x(a,s.direction)}),s.key&&e.jsx(d,{leftSection:s.direction==="asc"?e.jsx(W,{}):e.jsx(q,{}),placeholder:"Direction...",value:s.direction,data:[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],onChange:a=>x(s.key,a)})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Filter"}),e.jsx(d,{clearable:!0,leftSection:e.jsx(X,{}),placeholder:"Filter by...",value:n,data:[{label:"Role",value:"role"},{label:"Status",value:"status"}],onChange:a=>f(a,"")}),n&&e.jsx(d,{clearable:!0,leftSection:n==="role"?e.jsx(K,{}):e.jsx(H,{}),placeholder:n==="role"?"Select role...":"Select status...",value:g,data:n==="role"?[{label:"Project Manager",value:"Project Manager"},{label:"Developer",value:"Developer"},{label:"Quality Assurance",value:"Quality Assurance"}]:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],onChange:a=>f(n,a),mt:"sm"})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Items per page"}),e.jsx(d,{clearable:!1,leftSection:e.jsx(J,{}),placeholder:"Select items per page...",value:b,data:[{label:"10",value:"10"},{label:"20",value:"20"},{label:"30",value:"30"},{label:"40",value:"40"},{label:"50",value:"50"}],onChange:M})]})]})}),e.jsxs(fe,{justify:"space-between",align:"start",gap:16,children:[e.jsx(ke,{title:"Users",description:"Manage users with search, sort, filter, and customizable pagination."}),t.auth.user.role==="Admin"&&e.jsxs(e.Fragment,{children:[e.jsx(U,{label:"Create Users",children:e.jsx(z,{display:{base:"block",xs:"none"},onClick:()=>m.get(route("users.create")),children:e.jsx($,{})})}),e.jsx(he,{leftSection:e.jsx($,{}),display:{base:"none",xs:"block"},onClick:()=>m.get(route("users.create")),children:"Create User"})]})]}),e.jsxs(S,{gutter:32,children:[e.jsx(S.Col,{span:{base:0,lg:3},children:e.jsx(V,{shadow:"xs",p:16,withBorder:!0,pos:"sticky",top:112,display:{base:"none",lg:_?"none":"block"},children:e.jsxs(B,{gap:32,children:[e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Search"}),e.jsx(E,{leftSection:e.jsx(T,{}),placeholder:"Search by name or email...",value:r,onChange:a=>P(a.target.value)})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Sort"}),e.jsx(d,{clearable:!0,leftSection:e.jsx(G,{}),placeholder:"Sort by...",value:s.key,data:[{label:"Full Name",value:"full_name"},{label:"Email",value:"email"},{label:"Role",value:"role"}],onChange:a=>x(a,s.direction)}),s.key&&e.jsx(d,{leftSection:s.direction==="asc"?e.jsx(W,{}):e.jsx(q,{}),placeholder:"Direction...",value:s.direction,data:[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],onChange:a=>x(s.key,a)})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Filter"}),e.jsx(d,{clearable:!0,leftSection:e.jsx(X,{}),placeholder:"Filter by...",value:n,data:[{label:"Role",value:"role"},{label:"Status",value:"status"}],onChange:a=>f(a,"")}),n&&e.jsx(d,{clearable:!0,leftSection:n==="role"?e.jsx(K,{}):e.jsx(H,{}),placeholder:n==="role"?"Select role...":"Select status...",value:g,data:n==="role"?[{label:"Project Manager",value:"Project Manager"},{label:"Developer",value:"Developer"},{label:"Quality Assurance",value:"Quality Assurance"}]:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],onChange:a=>f(n,a),mt:"sm"})]}),e.jsxs(h,{children:[e.jsx(o,{fw:500,children:"Items per page"}),e.jsx(d,{clearable:!1,leftSection:e.jsx(J,{}),placeholder:"Select items per page...",value:b,data:[{label:"10",value:"10"},{label:"20",value:"20"},{label:"30",value:"30"},{label:"40",value:"40"},{label:"50",value:"50"}],onChange:M})]})]})})}),e.jsxs(S.Col,{span:{base:12,lg:9},children:[e.jsxs(L,{justify:"space-between",align:"center",mb:16,children:[e.jsxs(o,{size:"sm",children:["Showing ",t.users.from," – ",t.users.to," of"," ",t.users.total]}),e.jsx(O,{value:t.users.current_page,onChange:D,total:t.users.last_page,radius:"xs"})]}),t.users.data.length===0?e.jsxs(B,{align:"center",py:32,spacing:"xs",children:[e.jsx(Se,{size:48,color:"gray"}),e.jsx(je,{order:3,c:"gray",children:"No users available yet."})]}):e.jsx(S,{gutter:"lg",children:t.users.data.map(a=>e.jsx(S.Col,{span:{base:6,sm:4,md:3},children:e.jsxs(V,{shadow:"xs",radius:"md",withBorder:!0,children:[e.jsx(ye,{children:e.jsx(N,{radius:16,style:{zIndex:1},color:a.deleted_at?"red":"green",inline:!0,size:16,offset:7,position:"bottom-end",children:e.jsx(ue,{size:48,src:a.profile_photo_path||void 0,children:!a.profile_photo_path&&me(a.full_name)})})}),e.jsx(o,{fw:500,align:"center",mt:16,lineClamp:1,children:a.full_name}),e.jsx(o,{align:"center",c:"ghost",size:"sm",mb:16,lineClamp:1,children:a.email}),e.jsx(pe,{mx:"auto",color:a.role==="Project Manager"?"orange":a.role==="Developer"?"lime":a.role==="Quality Assurance"?"cyan":"gray",variant:"light",children:a.role.replace("_"," ")}),e.jsxs(p,{shadow:"xs",withArrow:!0,arrowPosition:"center",children:[e.jsx(p.Target,{children:e.jsx(z,{w:"100%",mt:16,variant:"subtle",color:"gray",children:e.jsx(ee,{})})}),e.jsxs(p.Dropdown,{p:0,children:[e.jsx(p.Item,{h:48,color:"yellow",leftSection:e.jsx(Ie,{}),onClick:()=>Q(a.id),children:"Edit"}),a.deleted_at?e.jsx(p.Item,{h:48,color:"green",leftSection:e.jsx(_e,{}),onClick:()=>R(a),children:"Restore"}):e.jsx(p.Item,{h:48,color:"red",leftSection:e.jsx(be,{}),onClick:()=>F(a),children:"Delete"})]})]})]})},a.id))}),e.jsxs(L,{justify:"space-between",align:"center",mt:16,children:[e.jsxs(o,{size:"sm",children:["Showing ",t.users.from," – ",t.users.to," of"," ",t.users.total]}),e.jsx(O,{value:t.users.current_page,onChange:D,total:t.users.last_page,radius:"xs"})]})]})]})]})};export{Ve as default};
