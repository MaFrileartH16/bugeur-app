import{p as E,u as N,c as y,a as R,j as s,B,k as w,l as C,h as m}from"./app-BbeDIDnk.js";import{A as D}from"./AuthenticatedLayout-CLo5kxy8.js";import{G as x}from"./Group-sx-wpz45.js";import{T as P}from"./Title-DjX8_R-_.js";import{B as _,b as I}from"./AppLayout-8XI00KJo.js";import{T as e,I as b,a as z}from"./IconTrash-CRQ-Y7-u.js";var A={root:"m_9e117634"};const G={},$=w((t,{radius:o,fit:n})=>({root:{"--image-radius":o===void 0?void 0:C(o),"--image-object-fit":n}})),u=E((t,o)=>{const n=N("Image",G,t),{classNames:a,className:h,style:r,styles:i,unstyled:c,vars:S,onError:d,src:l,radius:F,fit:H,fallbackSrc:j,mod:p,...T}=n,[k,g]=y.useState(!l);y.useEffect(()=>g(!l),[l]);const f=R({name:"Image",classes:A,props:n,className:h,style:r,classNames:a,styles:i,unstyled:c,vars:S,varsResolver:$});return k&&j?s.jsx(B,{component:"img",ref:o,src:j,...f("root"),onError:d,mod:["fallback",p],...T}):s.jsx(B,{component:"img",ref:o,...f("root"),src:l,onError:v=>{d==null||d(v),g(!0)},mod:p,...T})});u.classes=A;u.displayName="@mantine/core/Image";const K=({project:t,bugs:o})=>{console.log(o);const n=()=>{m.get(route("projects.bugs.create",t.id))},a=(r,i)=>{m.get(route("projects.bugs.edit",[r,i]))},h=(r,i)=>{confirm("Are you sure you want to delete this bug?")&&m.delete(route("projects.bugs.destroy",[r,i]),{onSuccess:()=>{alert("Bug deleted successfully.")}})};return s.jsxs(D,{title:`Bugs for ${t.title}`,children:[s.jsxs(x,{position:"apart",mb:"md",children:[s.jsxs(P,{order:2,children:["Bugs for ",t.title]}),s.jsx(_,{onClick:n,color:"blue",children:"Add Bug"})]}),s.jsxs(e,{highlightOnHover:!0,children:[s.jsx(e.Thead,{children:s.jsxs(e.Tr,{children:[s.jsx(e.Th,{children:"ID"}),s.jsx(e.Th,{children:"Title"}),s.jsx(e.Th,{children:"Type"}),s.jsx(e.Th,{children:"Status"}),s.jsx(e.Th,{children:"Assignee"}),s.jsx(e.Th,{children:"Deadline"}),s.jsx(e.Th,{children:"Screenshots"}),s.jsx(e.Th,{children:"Actions"})]})}),s.jsx(e.Tbody,{children:o.map(r=>s.jsxs(e.Tr,{children:[s.jsx(e.Td,{children:r.id}),s.jsx(e.Td,{children:r.title}),s.jsx(e.Td,{children:r.bug_type}),s.jsx(e.Td,{children:r.status}),s.jsx(e.Td,{children:r.assignee?r.assignee.username:"Unassigned"}),s.jsx(e.Td,{children:r.deadline}),s.jsx(e.Td,{children:r.screenshots.length>0?s.jsx(x,{spacing:"xs",children:r.screenshots.map((i,c)=>s.jsx(u,{src:i.images,alt:`Screenshot ${c+1}`,width:50,height:50,withPlaceholder:!0},c))}):"No screenshots"}),s.jsx(e.Td,{children:s.jsxs(x,{spacing:"sm",children:[s.jsx(I,{color:"blue",onClick:()=>a(t.id,r.id),children:s.jsx(b,{size:16})}),s.jsx(I,{color:"red",onClick:()=>h(t.id,r.id),children:s.jsx(z,{size:16})})]})})]},r.id))})]})]})};export{K as default};
