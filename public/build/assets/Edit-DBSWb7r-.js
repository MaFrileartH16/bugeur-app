import{b as x,j as r,T as u,P as j,c as f}from"./app-l3PHe4uA.js";import{b as g,A as C,C as w,T as c}from"./AppLayout-C8W-FPwP.js";import{I as y}from"./IconKey-DuKxvrae.js";import{I as v}from"./IconMail-DeRBIQvH.js";import{I}from"./IconPassword-Dq0ghy8j.js";import{G as l}from"./Grid-ytByML-q.js";const T=t=>{const{user:o}=t.auth,a=x({full_name:o.full_name||"",email:o.email||"",password:""}),m=(e,s)=>e==="password"&&!s?null:s?e==="email"&&!s.endsWith("@bugeur.id")?"Email must use @bugeur.id.":null:`${e.replace("_"," ").replace(/^\w/,n=>n.toUpperCase())} is required.`,i=e=>s=>{let d=s.target.value;a.setData(e,d);const n=m(e,d);n?a.setError(e,n):a.clearErrors(e)},p=e=>{e.preventDefault(),a.put(route("profile.update",o),{onFinish:()=>a.reset("password")})},h=[{label:"Full Name",value:a.data.full_name,onChange:i("full_name"),error:a.errors.full_name,placeholder:"Your Full Name",icon:r.jsx(g,{}),component:u,readOnly:!0,disabled:!0},{label:"Role",value:o.role,placeholder:"Your Role",icon:r.jsx(y,{}),component:u,readOnly:!0,disabled:!0},{label:"Email Address",value:a.data.email,onChange:i("email"),error:a.errors.email,placeholder:"Enter your email address (e.g., username@bugeur.id)",icon:r.jsx(v,{}),component:u,readOnly:!0,disabled:!0},{label:"New Password",value:a.data.password,onChange:i("password"),error:a.errors.password,placeholder:"Leave blank to keep current password",icon:r.jsx(I,{}),component:j}],b=Object.keys(a.errors).length>0;return r.jsx("form",{onSubmit:p,children:r.jsx(C,{title:t.title,user:o,children:r.jsxs(w,{flex:1,size:"xl",w:"100%",py:32,children:[r.jsx(c,{mb:32,children:t.title}),r.jsxs(l,{gutter:16,justify:"flex-end",children:[h.map((e,s)=>r.jsx(l.Col,{span:{base:12},children:r.jsxs(l,{gutter:8,align:"center",children:[r.jsx(l.Col,{span:{base:12,sm:4},children:r.jsx(c,{order:5,children:e.label})}),r.jsx(l.Col,{span:{base:12,sm:8},children:r.jsx(e.component,{leftSection:e.icon,placeholder:e.placeholder,value:e.value,onChange:e.onChange,error:e.error,readOnly:e.readOnly||!1,disabled:e.disabled||!1})})]})},s)),r.jsx(l.Col,{span:{base:12,sm:8,smOffset:4},children:r.jsx(f,{type:"submit",fullWidth:!0,disabled:a.processing||b,loading:a.processing,children:"Save Changes"})})]})]})})})};export{T as default};
