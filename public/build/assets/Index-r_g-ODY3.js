import{F as O,f as Y,u as Z,d as ee,j as e,B as d,e as ae,H as te,ab as le,ac as se,l as re,S as ne,r as j,J as F,M as ie,o as b,b as oe,G as Q,$ as R,X as ce}from"./app-BpAUGdmq.js";import{c as h,a as i,u as de,A as he,i as ue,f as E,S as B,F as ge,T as ve,C as xe,j as fe,B as ye,M as p,d as je}from"./AppLayout-gEqekIuP.js";import{P as me}from"./PageHeadings-Ci2Bal-C.js";import{T}from"./TextInput-D0mzV3YP.js";import{I as U}from"./IconSearch-rH6sC-j5.js";import{I as L,C as V}from"./IconPlus-BtUDKwzS.js";import{G as k}from"./Grid-DFaESEyC.js";import{I as be}from"./IconUsers-2kc4yCtG.js";import{I as pe}from"./IconEdit-CB9HLXkh.js";function ke(t="top-end",n=0){const l={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},s=O(n),[o,r]=t.split("-");return o==="top"&&(l["--indicator-top"]=s,l["--indicator-translate-y"]="-50%"),o==="middle"&&(l["--indicator-top"]="50%",l["--indicator-translate-y"]="-50%"),o==="bottom"&&(l["--indicator-bottom"]=s,l["--indicator-translate-y"]="50%"),r==="start"&&(l["--indicator-left"]=s,l["--indicator-translate-x"]="-50%"),r==="center"&&(l["--indicator-left"]="50%",l["--indicator-translate-x"]="-50%"),r==="end"&&(l["--indicator-right"]=s,l["--indicator-translate-x"]="50%"),l}var W={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const Se={position:"top-end",offset:0,inline:!1,withBorder:!1,disabled:!1,processing:!1},Me=ae((t,{color:n,position:l,offset:s,size:o,radius:r,zIndex:u,autoContrast:g})=>({root:{"--indicator-color":n?te(n,t):void 0,"--indicator-text-color":le(g,t)?se({color:n,theme:t,autoContrast:g}):void 0,"--indicator-size":O(o),"--indicator-radius":r===void 0?void 0:re(r),"--indicator-z-index":u==null?void 0:u.toString(),...ke(l,s)}})),N=Y((t,n)=>{const l=Z("Indicator",Se,t),{classNames:s,className:o,style:r,styles:u,unstyled:g,vars:S,children:m,position:C,offset:I,inline:w,label:M,radius:x,color:A,withBorder:f,disabled:y,processing:_,zIndex:D,autoContrast:z,mod:P,...a}=l,v=ee({name:"Indicator",classes:W,props:l,className:o,style:r,classNames:s,styles:u,unstyled:g,vars:S,varsResolver:Me});return e.jsxs(d,{ref:n,...v("root"),mod:[{inline:w},P],...a,children:[!y&&e.jsx(d,{mod:{"with-label":!!M,"with-border":f,processing:_},...v("indicator"),children:M}),m]})});N.classes=W;N.displayName="@mantine/core/Indicator";/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G=h("outline","arrows-up-down","IconArrowsUpDown",[["path",{d:"M7 3l0 18",key:"svg-0"}],["path",{d:"M10 6l-3 -3l-3 3",key:"svg-1"}],["path",{d:"M20 18l-3 3l-3 -3",key:"svg-2"}],["path",{d:"M17 21l0 -18",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var H=h("outline","bolt","IconBolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _e=h("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ce=h("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K=h("outline","filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var X=h("outline","hierarchy-3","IconHierarchy3",[["path",{d:"M12 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M12 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M20 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}],["path",{d:"M16 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-5"}],["path",{d:"M5 17l2 -3",key:"svg-6"}],["path",{d:"M9 10l2 -3",key:"svg-7"}],["path",{d:"M13 7l2 3",key:"svg-8"}],["path",{d:"M17 14l2 3",key:"svg-9"}],["path",{d:"M15 14l-2 3",key:"svg-10"}],["path",{d:"M9 14l2 3",key:"svg-11"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $=h("outline","number","IconNumber",[["path",{d:"M4 17v-10l7 10v-10",key:"svg-0"}],["path",{d:"M15 17h5",key:"svg-1"}],["path",{d:"M17.5 10m-2.5 0a2.5 3 0 1 0 5 0a2.5 3 0 1 0 -5 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ie=h("outline","settings-search","IconSettingsSearch",[["path",{d:"M11.646 20.965a1.67 1.67 0 0 1 -1.321 -1.282a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c.728 .177 1.154 .71 1.279 1.303",key:"svg-0"}],["path",{d:"M14.985 11.694a3 3 0 1 0 -3.29 3.29",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M20.2 20.2l1.8 1.8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var J=h("outline","sort-ascending-letters","IconSortAscendingLetters",[["path",{d:"M15 10v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4",key:"svg-0"}],["path",{d:"M19 21h-4l4 -7h-4",key:"svg-1"}],["path",{d:"M4 15l3 3l3 -3",key:"svg-2"}],["path",{d:"M7 6v12",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.28.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var q=h("outline","sort-descending-letters","IconSortDescendingLetters",[["path",{d:"M15 21v-5c0 -1.38 .62 -2 2 -2s2 .62 2 2v5m0 -3h-4",key:"svg-0"}],["path",{d:"M19 10h-4l4 -7h-4",key:"svg-1"}],["path",{d:"M4 15l3 3l3 -3",key:"svg-2"}],["path",{d:"M7 6v12",key:"svg-3"}]]);const c=({description:t,error:n,...l})=>e.jsxs(e.Fragment,{children:[t&&e.jsx(i,{c:"gray",mb:8,children:t}),e.jsx(ne,{mt:t?0:8,...l,styles:{input:{borderColor:n?"red":void 0}}}),n&&e.jsx(i,{c:"red",mt:8,children:n})]}),Re=t=>{const[n,l]=j.useState(t.search||""),[s,o]=j.useState({key:t.sort_key||"",direction:t.sort_direction||"asc"}),[r,u]=j.useState(t.filter_key||""),[g,S]=j.useState(t.filter_value||""),[m,C]=j.useState(String(t.per_page)||"10"),[I,{open:w,close:M}]=de(!1);j.useEffect(()=>{l(t.search||""),o({key:t.sort_key||"",direction:t.sort_direction||"asc"}),u(t.filter_key||""),S(t.filter_value||""),C(String(t.per_page)||"10")},[t.search,t.sort_key,t.sort_direction,t.filter_key,t.filter_value,t.per_page]);const x=a=>{b.get(route("users.index"),{page:1,search:n,sort_key:s.key,sort_direction:s.direction,filter_key:r,filter_value:g,per_page:Number(m),...a})},A=a=>{l(a),x({search:a})},f=(a,v)=>{o({key:a,direction:v}),x({sort_key:a,sort_direction:v})},y=(a,v)=>{u(a),S(v),x({filter_key:a,filter_value:v})},_=a=>{C(a),x({per_page:Number(a)})},D=a=>{x({page:a})},z=a=>{b.get(route("users.edit",a))},P=a=>{console.log("Delete user:",a),confirm("Are you sure you want to delete this user?")&&b.delete(route("users.destroy",a))};return e.jsxs(he,{title:t.title,user:t.auth.user,notification:t.notification,children:[e.jsx(ue,{position:{bottom:16,left:16},style:{zIndex:2},display:{base:"block",lg:"none"},children:e.jsx(E,{label:"Settings Search",children:e.jsx(F,{bg:"white",onClick:w,variant:"outline",children:e.jsx(Ie,{})})})}),e.jsx(ie,{opened:I,onClose:M,size:"xs",centered:!0,withCloseButton:!1,children:e.jsxs(B,{gap:32,children:[e.jsxs(d,{children:[e.jsx(i,{fw:500,children:"Search"}),e.jsx(T,{leftSection:e.jsx(U,{}),placeholder:"Search by name or email...",value:n,onChange:a=>A(a.target.value)})]}),e.jsxs(d,{children:[e.jsx(i,{fw:500,children:"Sort"}),e.jsx(c,{clearable:!0,leftSection:e.jsx(G,{}),placeholder:"Sort by...",value:s.key,data:[{label:"Full Name",value:"full_name"},{label:"Email",value:"email"},{label:"Role",value:"role"}],onChange:a=>f(a,s.direction)}),s.key&&e.jsx(c,{leftSection:s.direction==="asc"?e.jsx(J,{}):e.jsx(q,{}),placeholder:"Direction...",value:s.direction,data:[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],onChange:a=>f(s.key,a)})]}),e.jsxs(d,{children:[e.jsx(i,{fw:500,children:"Filter"}),e.jsx(c,{clearable:!0,leftSection:e.jsx(K,{}),placeholder:"Filter by...",value:r,data:[{label:"Role",value:"role"},{label:"Status",value:"status"}],onChange:a=>y(a,"")}),r&&e.jsx(c,{clearable:!0,leftSection:r==="role"?e.jsx(X,{}):e.jsx(H,{}),placeholder:r==="role"?"Select role...":"Select status...",value:g,data:r==="role"?[{label:"Project Manager",value:"Project Manager"},{label:"Developer",value:"Developer"},{label:"Quality Assurance",value:"Quality Assurance"}]:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],onChange:a=>y(r,a),mt:"sm"})]}),e.jsxs(d,{children:[e.jsx(i,{fw:500,children:"Items per page"}),e.jsx(c,{clearable:!1,leftSection:e.jsx($,{}),placeholder:"Select items per page...",value:m,data:[{label:"10",value:"10"},{label:"20",value:"20"},{label:"30",value:"30"},{label:"40",value:"40"},{label:"50",value:"50"}],onChange:_})]})]})}),e.jsxs(ge,{justify:"space-between",align:"start",gap:16,children:[e.jsx(me,{title:"Users",description:"Manage users with search, sort, filter, and customizable pagination."}),t.auth.user.role==="Admin"&&e.jsxs(e.Fragment,{children:[e.jsx(E,{label:"Create Users",children:e.jsx(F,{display:{base:"block",xs:"none"},onClick:()=>b.get(route("users.create")),children:e.jsx(L,{})})}),e.jsx(oe,{leftSection:e.jsx(L,{}),display:{base:"none",xs:"block"},onClick:()=>b.get(route("users.create")),children:"Create User"})]})]}),e.jsxs(k,{gutter:32,children:[e.jsx(k.Col,{span:{base:0,lg:3},children:e.jsx(V,{shadow:"xs",p:16,withBorder:!0,pos:"sticky",top:112,display:{base:"none",lg:I?"none":"block"},children:e.jsxs(B,{gap:32,children:[e.jsxs(d,{children:[e.jsx(i,{fw:500,children:"Search"}),e.jsx(T,{leftSection:e.jsx(U,{}),placeholder:"Search by name or email...",value:n,onChange:a=>A(a.target.value)})]}),e.jsxs(d,{children:[e.jsx(i,{fw:500,children:"Sort"}),e.jsx(c,{clearable:!0,leftSection:e.jsx(G,{}),placeholder:"Sort by...",value:s.key,data:[{label:"Full Name",value:"full_name"},{label:"Email",value:"email"},{label:"Role",value:"role"}],onChange:a=>f(a,s.direction)}),s.key&&e.jsx(c,{leftSection:s.direction==="asc"?e.jsx(J,{}):e.jsx(q,{}),placeholder:"Direction...",value:s.direction,data:[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],onChange:a=>f(s.key,a)})]}),e.jsxs(d,{children:[e.jsx(i,{fw:500,children:"Filter"}),e.jsx(c,{clearable:!0,leftSection:e.jsx(K,{}),placeholder:"Filter by...",value:r,data:[{label:"Role",value:"role"},{label:"Status",value:"status"}],onChange:a=>y(a,"")}),r&&e.jsx(c,{clearable:!0,leftSection:r==="role"?e.jsx(X,{}):e.jsx(H,{}),placeholder:r==="role"?"Select role...":"Select status...",value:g,data:r==="role"?[{label:"Project Manager",value:"Project Manager"},{label:"Developer",value:"Developer"},{label:"Quality Assurance",value:"Quality Assurance"}]:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],onChange:a=>y(r,a),mt:"sm"})]}),e.jsxs(d,{children:[e.jsx(i,{fw:500,children:"Items per page"}),e.jsx(c,{clearable:!1,leftSection:e.jsx($,{}),placeholder:"Select items per page...",value:m,data:[{label:"10",value:"10"},{label:"20",value:"20"},{label:"30",value:"30"},{label:"40",value:"40"},{label:"50",value:"50"}],onChange:_})]})]})})}),e.jsxs(k.Col,{span:{base:12,lg:9},children:[e.jsxs(Q,{justify:"space-between",align:"center",mb:16,children:[e.jsxs(i,{size:"sm",children:["Showing ",t.users.from," – ",t.users.to," of"," ",t.users.total]}),e.jsx(R,{value:t.users.current_page,onChange:D,total:t.users.last_page,radius:"xs"})]}),t.users.data.length===0?e.jsxs(B,{align:"center",py:32,spacing:"xs",children:[e.jsx(be,{size:48,color:"gray"}),e.jsx(ve,{order:3,c:"gray",children:"No users available yet."})]}):e.jsx(k,{gutter:"lg",children:t.users.data.map(a=>e.jsx(k.Col,{span:{base:6,sm:4,md:3},children:e.jsxs(V,{shadow:"xs",radius:"md",withBorder:!0,children:[e.jsx(xe,{children:e.jsx(N,{radius:16,style:{zIndex:1},color:a.deleted_at?"red":"green",inline:!0,size:16,offset:7,position:"bottom-end",children:e.jsx(ce,{size:48,src:a.profile_photo_path||void 0,children:!a.profile_photo_path&&fe(a.full_name)})})}),e.jsx(i,{fw:500,align:"center",mt:16,lineClamp:1,children:a.full_name}),e.jsx(i,{align:"center",c:"ghost",size:"sm",mb:16,lineClamp:1,children:a.email}),e.jsx(ye,{mx:"auto",color:a.role==="Project Manager"?"orange":a.role==="Developer"?"lime":a.role==="Quality Assurance"?"cyan":"gray",variant:"light",children:a.role.replace("_"," ")}),e.jsxs(p,{shadow:"xs",withArrow:!0,arrowPosition:"center",children:[e.jsx(p.Target,{children:e.jsx(F,{w:"100%",mt:16,variant:"subtle",color:"gray",children:e.jsx(Ce,{})})}),e.jsxs(p.Dropdown,{p:0,children:[e.jsx(p.Item,{h:48,color:"yellow",leftSection:e.jsx(pe,{}),onClick:()=>z(a.id),children:"Edit"}),e.jsx(p.Item,{h:48,color:a.deleted_at?"green":"red",leftSection:a.deleted_at?e.jsx(_e,{}):e.jsx(je,{}),onClick:()=>P(a.id),children:a.deleted_at?"Active":"Deactivate"})]})]})]})},a.id))}),e.jsxs(Q,{justify:"space-between",align:"center",mt:16,children:[e.jsxs(i,{size:"sm",children:["Showing ",t.users.from," – ",t.users.to," of"," ",t.users.total]}),e.jsx(R,{value:t.users.current_page,onChange:D,total:t.users.last_page,radius:"xs"})]})]})]})]})};export{Re as default};
