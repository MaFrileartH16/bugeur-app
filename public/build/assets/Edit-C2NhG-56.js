import{b as j,j as e,T as u,S as C,h as c,c as v}from"./app-RcAloIyv.js";import{P as E,T as S}from"./PageHeadings-CIjb8soY.js";import{b as _,A as y,C as I,T as U}from"./AppLayout-Br51ywqD.js";import{I as A}from"./IconMail-BU_-sF0G.js";import{I as D}from"./IconKey-CRyqks5g.js";import{G as t}from"./Grid-D53SFOGt.js";import{I as T}from"./IconCornerDownLeft-D7W_spy8.js";const z=d=>{const{user:m}=d.auth,o=d.user,r=j({full_name:o.full_name||"",email:o.email||"",role:o.role||""}),p=(s,l)=>l?s==="email"&&!l.endsWith("@bugeur.id")?"Email must use @bugeur.id.":null:`${s.replace("_"," ").replace(/^\w/,a=>a.toUpperCase())} is required.`,i=s=>l=>{const a=l.target.value;r.setData(s,a);const n=p(s,a);n?r.setError(s,n):r.clearErrors(s)},h=s=>{s.preventDefault(),r.put(route("users.update",o.id))},g=[{label:"Full Name",value:r.data.full_name,onChange:i("full_name"),error:r.errors.full_name,placeholder:"e.g., John Doe",description:"Update the user’s full name (e.g., first and last name).",leftSection:e.jsx(_,{}),component:u},{label:"Email Address",value:r.data.email,onChange:i("email"),error:r.errors.email,placeholder:"e.g., johndoe@bugeur.id",description:"Provide a valid email address ending with @bugeur.id.",leftSection:e.jsx(A,{}),component:u},{label:"Role",defaultValue:r.data.role.toLowerCase().replace(/\s+/g,"_"),onChange:i("role"),error:r.errors.role,placeholder:"Select user’s role",description:"Assign the user a role: Project Manager, Developer, or QA.",leftSection:e.jsx(D,{}),component:C,data:[{value:"project_manager",label:"Project Manager"},{value:"developer",label:"Developer"},{value:"quality_assurance",label:"Quality Assurance"}]}],f=Object.keys(r.errors).length>0,x=!r.data.full_name||!r.data.email||!r.data.role;return e.jsx("form",{onSubmit:h,children:e.jsx(y,{title:"Edit User",user:m,children:e.jsxs(I,{flex:1,size:"xl",w:"100%",py:32,children:[e.jsx(E,{title:"Edit User",description:"Make changes to the user's details, including their role and email address.",breadcrumbs:[{label:"Users",onClick:()=>c.get(route("users.index"))},{label:"Edit",onClick:()=>c.get(route("users.edit",o.id))}]}),e.jsxs(t,{gutter:16,justify:"flex-end",children:[g.map(({component:s,label:l,description:a,...n},b)=>e.jsx(t.Col,{span:{base:12},children:e.jsxs(t,{gutter:{base:8,sm:0},align:"center",children:[e.jsx(t.Col,{span:{base:12,sm:4},children:e.jsx(U,{order:5,children:l})}),e.jsxs(t.Col,{span:{base:12,sm:8},children:[e.jsx(s,{...n}),a&&e.jsx(S,{size:"xs",color:"dimmed",mt:8,children:a})]})]})},b)),e.jsx(t.Col,{span:{base:12,sm:8,smOffset:4},children:e.jsx(v,{type:"submit",fullWidth:!0,leftSection:e.jsx(T,{}),disabled:r.processing||f||x,loading:r.processing,children:"Save Changes"})})]})]})})})};export{z as default};
